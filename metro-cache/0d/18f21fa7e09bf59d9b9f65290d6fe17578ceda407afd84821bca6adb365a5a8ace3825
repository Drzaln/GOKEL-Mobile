{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"./nativeInterface","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"./utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _nativeInterface = _$$_REQUIRE(_dependencyMap[2], \"./nativeInterface\");\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"invariant\"));\n\n  var _utils = _$$_REQUIRE(_dependencyMap[4], \"./utils\");\n\n  var subscriptions = [];\n  var updatesEnabled = false;\n  var Geolocation = {\n    setRNConfiguration: function setRNConfiguration(config) {\n      if (_nativeInterface.RNCGeolocation.setConfiguration) {\n        _nativeInterface.RNCGeolocation.setConfiguration(config);\n      }\n    },\n    requestAuthorization: function requestAuthorization() {\n      _nativeInterface.RNCGeolocation.requestAuthorization();\n    },\n    getCurrentPosition: function getCurrentPosition(geo_success, geo_error, geo_options) {\n      return _regenerator.default.async(function getCurrentPosition$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              (0, _invariant.default)(typeof geo_success === 'function', 'Must provide a valid geo_success callback.');\n\n              _nativeInterface.RNCGeolocation.getCurrentPosition(geo_options || {}, geo_success, geo_error || _utils.logError);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    },\n    watchPosition: function watchPosition(success, error, options) {\n      if (!updatesEnabled) {\n        _nativeInterface.RNCGeolocation.startObserving(options || {});\n\n        updatesEnabled = true;\n      }\n\n      var watchID = subscriptions.length;\n      subscriptions.push([_nativeInterface.GeolocationEventEmitter.addListener('geolocationDidChange', success), error ? _nativeInterface.GeolocationEventEmitter.addListener('geolocationError', error) : null]);\n      return watchID;\n    },\n    clearWatch: function clearWatch(watchID) {\n      var sub = subscriptions[watchID];\n\n      if (!sub) {\n        return;\n      }\n\n      sub[0].remove();\n      var sub1 = sub[1];\n      sub1 && sub1.remove();\n      subscriptions[watchID] = undefined;\n      var noWatchers = true;\n\n      for (var ii = 0; ii < subscriptions.length; ii++) {\n        if (subscriptions[ii]) {\n          noWatchers = false;\n        }\n      }\n\n      if (noWatchers) {\n        Geolocation.stopObserving();\n      }\n    },\n    stopObserving: function stopObserving() {\n      if (updatesEnabled) {\n        _nativeInterface.RNCGeolocation.stopObserving();\n\n        updatesEnabled = false;\n\n        for (var ii = 0; ii < subscriptions.length; ii++) {\n          var sub = subscriptions[ii];\n\n          if (sub) {\n            (0, _utils.warning)(false, 'Called stopObserving with existing subscriptions.');\n            sub[0].remove();\n            var sub1 = sub[1];\n            sub1 && sub1.remove();\n          }\n        }\n\n        subscriptions = [];\n      }\n    }\n  };\n  module.exports = Geolocation;\n});","map":[[6,0,11,0],[8,0,13,0],[10,0,14,0],[12,0,16,0],[12,6,16,4,"subscriptions"],[12,19,16,17],[12,22,16,20],[12,24,16,0],[13,0,17,0],[13,6,17,4,"updatesEnabled"],[13,20,17,18],[13,23,17,21],[13,28,17,0],[14,0,38,0],[14,6,38,6,"Geolocation"],[14,17,38,17],[14,20,38,20],[15,0,45,2,"setRNConfiguration"],[15,4,45,2,"setRNConfiguration"],[15,22,45,20],[15,24,45,22],[15,52,45,31,"config"],[15,58,45,22],[15,60,45,57],[16,0,46,4],[16,10,46,8,"RNCGeolocation"],[16,42,46,23,"setConfiguration"],[16,58,46,4],[16,60,46,41],[17,0,47,6,"RNCGeolocation"],[17,40,47,21,"setConfiguration"],[17,56,47,6],[17,57,47,38,"config"],[17,63,47,6],[18,0,48,5],[19,0,49,3],[19,5,38,20],[20,0,56,2,"requestAuthorization"],[20,4,56,2,"requestAuthorization"],[20,24,56,22],[20,26,56,24],[20,58,56,35],[21,0,57,4,"RNCGeolocation"],[21,38,57,19,"requestAuthorization"],[21,58,57,4],[22,0,58,3],[22,5,38,20],[23,0,65,2,"getCurrentPosition"],[23,4,65,2,"getCurrentPosition"],[23,22,65,20],[23,24,65,22],[23,52,66,4,"geo_success"],[23,63,65,22],[23,65,67,4,"geo_error"],[23,74,65,22],[23,76,68,4,"geo_options"],[23,87,65,22],[24,0,65,22],[25,0,65,22],[26,0,65,22],[27,0,65,22],[28,0,70,4],[28,38,71,6],[28,45,71,13,"geo_success"],[28,56,71,6],[28,61,71,29],[28,71,70,4],[28,73,72,6],[28,117,70,4],[30,0,76,4,"RNCGeolocation"],[30,46,76,19,"getCurrentPosition"],[30,64,76,4],[30,65,77,6,"geo_options"],[30,76,77,17],[30,80,77,21],[30,82,76,4],[30,84,78,6,"geo_success"],[30,95,76,4],[30,97,79,6,"geo_error"],[30,106,79,15],[30,110,79,19,"logError"],[30,125,76,4],[32,0,65,22],[33,0,65,22],[34,0,65,22],[35,0,65,22],[36,0,65,22],[37,0,65,22],[38,0,65,22],[38,5,38,20],[39,0,88,2,"watchPosition"],[39,4,88,2,"watchPosition"],[39,17,88,15],[39,19,88,17],[39,42,89,4,"success"],[39,49,88,17],[39,51,90,4,"error"],[39,56,88,17],[39,58,91,4,"options"],[39,65,88,17],[39,67,92,12],[40,0,93,4],[40,10,93,8],[40,11,93,9,"updatesEnabled"],[40,25,93,4],[40,27,93,25],[41,0,94,6,"RNCGeolocation"],[41,40,94,21,"startObserving"],[41,54,94,6],[41,55,94,36,"options"],[41,62,94,43],[41,66,94,47],[41,68,94,6],[43,0,95,6,"updatesEnabled"],[43,8,95,6,"updatesEnabled"],[43,22,95,20],[43,25,95,23],[43,29,95,6],[44,0,96,5],[46,0,97,4],[46,10,97,10,"watchID"],[46,17,97,17],[46,20,97,20,"subscriptions"],[46,33,97,33],[46,34,97,34,"length"],[46,40,97,4],[47,0,98,4,"subscriptions"],[47,6,98,4,"subscriptions"],[47,19,98,17],[47,20,98,18,"push"],[47,24,98,4],[47,25,98,23],[47,26,99,6,"GeolocationEventEmitter"],[47,67,99,30,"addListener"],[47,78,99,6],[47,79,99,42],[47,101,99,6],[47,103,99,66,"success"],[47,110,99,6],[47,111,98,23],[47,113,100,6,"error"],[47,118,100,11],[47,121,101,10,"GeolocationEventEmitter"],[47,162,101,34,"addListener"],[47,173,101,10],[47,174,101,46],[47,192,101,10],[47,194,101,66,"error"],[47,199,101,10],[47,200,100,11],[47,203,102,10],[47,207,98,23],[47,208,98,4],[48,0,104,4],[48,13,104,11,"watchID"],[48,20,104,4],[49,0,105,3],[49,5,38,20],[50,0,112,2,"clearWatch"],[50,4,112,2,"clearWatch"],[50,14,112,12],[50,16,112,14],[50,36,112,23,"watchID"],[50,43,112,14],[50,45,112,40],[51,0,113,4],[51,10,113,10,"sub"],[51,13,113,13],[51,16,113,16,"subscriptions"],[51,29,113,29],[51,30,113,30,"watchID"],[51,37,113,29],[51,38,113,4],[53,0,114,4],[53,10,114,8],[53,11,114,9,"sub"],[53,14,114,4],[53,16,114,14],[54,0,117,6],[55,0,118,5],[57,0,120,4,"sub"],[57,6,120,4,"sub"],[57,9,120,7],[57,10,120,8],[57,11,120,7],[57,12,120,4],[57,13,120,11,"remove"],[57,19,120,4],[58,0,122,4],[58,10,122,10,"sub1"],[58,14,122,14],[58,17,122,17,"sub"],[58,20,122,20],[58,21,122,21],[58,22,122,20],[58,23,122,4],[59,0,123,4,"sub1"],[59,6,123,4,"sub1"],[59,10,123,8],[59,14,123,12,"sub1"],[59,18,123,16],[59,19,123,17,"remove"],[59,25,123,12],[59,27,123,4],[60,0,124,4,"subscriptions"],[60,6,124,4,"subscriptions"],[60,19,124,17],[60,20,124,18,"watchID"],[60,27,124,17],[60,28,124,4],[60,31,124,29,"undefined"],[60,40,124,4],[61,0,125,4],[61,10,125,8,"noWatchers"],[61,20,125,18],[61,23,125,21],[61,27,125,4],[63,0,126,4],[63,11,126,9],[63,15,126,13,"ii"],[63,17,126,15],[63,20,126,18],[63,21,126,4],[63,23,126,21,"ii"],[63,25,126,23],[63,28,126,26,"subscriptions"],[63,41,126,39],[63,42,126,40,"length"],[63,48,126,4],[63,50,126,48,"ii"],[63,52,126,50],[63,54,126,4],[63,56,126,54],[64,0,127,6],[64,12,127,10,"subscriptions"],[64,25,127,23],[64,26,127,24,"ii"],[64,28,127,23],[64,29,127,6],[64,31,127,29],[65,0,128,8,"noWatchers"],[65,10,128,8,"noWatchers"],[65,20,128,18],[65,23,128,21],[65,28,128,8],[66,0,129,7],[67,0,130,5],[69,0,131,4],[69,10,131,8,"noWatchers"],[69,20,131,4],[69,22,131,20],[70,0,132,6,"Geolocation"],[70,8,132,6,"Geolocation"],[70,19,132,17],[70,20,132,18,"stopObserving"],[70,33,132,6],[71,0,133,5],[72,0,134,3],[72,5,38,20],[73,0,141,2,"stopObserving"],[73,4,141,2,"stopObserving"],[73,17,141,15],[73,19,141,17],[73,44,141,28],[74,0,142,4],[74,10,142,8,"updatesEnabled"],[74,24,142,4],[74,26,142,24],[75,0,143,6,"RNCGeolocation"],[75,40,143,21,"stopObserving"],[75,53,143,6],[77,0,144,6,"updatesEnabled"],[77,8,144,6,"updatesEnabled"],[77,22,144,20],[77,25,144,23],[77,30,144,6],[79,0,145,6],[79,13,145,11],[79,17,145,15,"ii"],[79,19,145,17],[79,22,145,20],[79,23,145,6],[79,25,145,23,"ii"],[79,27,145,25],[79,30,145,28,"subscriptions"],[79,43,145,41],[79,44,145,42,"length"],[79,50,145,6],[79,52,145,50,"ii"],[79,54,145,52],[79,56,145,6],[79,58,145,56],[80,0,146,8],[80,14,146,14,"sub"],[80,17,146,17],[80,20,146,20,"subscriptions"],[80,33,146,33],[80,34,146,34,"ii"],[80,36,146,33],[80,37,146,8],[82,0,147,8],[82,14,147,12,"sub"],[82,17,147,8],[82,19,147,17],[83,0,148,10],[83,32,148,18],[83,37,148,10],[83,39,148,25],[83,90,148,10],[84,0,149,10,"sub"],[84,12,149,10,"sub"],[84,15,149,13],[84,16,149,14],[84,17,149,13],[84,18,149,10],[84,19,149,17,"remove"],[84,25,149,10],[85,0,151,10],[85,16,151,16,"sub1"],[85,20,151,20],[85,23,151,23,"sub"],[85,26,151,26],[85,27,151,27],[85,28,151,26],[85,29,151,10],[86,0,152,10,"sub1"],[86,12,152,10,"sub1"],[86,16,152,14],[86,20,152,18,"sub1"],[86,24,152,22],[86,25,152,23,"remove"],[86,31,152,18],[86,33,152,10],[87,0,153,9],[88,0,154,7],[90,0,155,6,"subscriptions"],[90,8,155,6,"subscriptions"],[90,21,155,19],[90,24,155,22],[90,26,155,6],[91,0,156,5],[92,0,157,3],[93,0,38,20],[93,3,38,0],[94,0,160,0,"module"],[94,2,160,0,"module"],[94,8,160,6],[94,9,160,7,"exports"],[94,16,160,0],[94,19,160,17,"Geolocation"],[94,30,160,0]]},"type":"js/module"}]}