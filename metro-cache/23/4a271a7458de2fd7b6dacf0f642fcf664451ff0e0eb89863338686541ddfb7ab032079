{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"react-native/Libraries/vendor/emitter/EventEmitter","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.initialiseNativeModuleEventEmitter = exports.getAppEventName = exports.SharedEventEmitter = void 0;\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[1], \"react-native\");\n\n  var _EventEmitter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"react-native/Libraries/vendor/emitter/EventEmitter\"));\n\n  var NATIVE_EMITTERS = {};\n  var NATIVE_SUBSCRIPTIONS = {};\n  var SharedEventEmitter = new _EventEmitter.default();\n  exports.SharedEventEmitter = SharedEventEmitter;\n\n  var getAppEventName = function getAppEventName(module, eventName) {\n    return module.app.name + \"-\" + eventName;\n  };\n\n  exports.getAppEventName = getAppEventName;\n\n  var getNativeEmitter = function getNativeEmitter(moduleName, module) {\n    var name = module.app.name + \"-\" + moduleName;\n    var nativeModule = _reactNative.NativeModules[moduleName];\n\n    if (!NATIVE_EMITTERS[name]) {\n      NATIVE_EMITTERS[name] = new _reactNative.NativeEventEmitter(nativeModule);\n    }\n\n    return NATIVE_EMITTERS[name];\n  };\n\n  var subscribeToNativeModuleEvents = function subscribeToNativeModuleEvents(moduleName, module, eventName) {\n    if (!NATIVE_SUBSCRIPTIONS[eventName]) {\n      var nativeEmitter = getNativeEmitter(moduleName, module);\n      nativeEmitter.addListener(eventName, function (event) {\n        if (event.appName) {\n          SharedEventEmitter.emit(event.appName + \"-\" + eventName, event);\n        } else {\n          SharedEventEmitter.emit(eventName, event);\n        }\n      });\n      NATIVE_SUBSCRIPTIONS[eventName] = true;\n    }\n  };\n\n  var initialiseNativeModuleEventEmitter = function initialiseNativeModuleEventEmitter(module, config) {\n    var events = config.events,\n        moduleName = config.moduleName;\n\n    if (events && events.length) {\n      for (var i = 0, len = events.length; i < len; i++) {\n        subscribeToNativeModuleEvents(moduleName, module, events[i]);\n      }\n    }\n  };\n\n  exports.initialiseNativeModuleEventEmitter = initialiseNativeModuleEventEmitter;\n});","map":[[9,0,1,0],[11,0,2,0],[13,0,3,0],[13,6,3,6,"NATIVE_EMITTERS"],[13,21,3,21],[13,24,3,24],[13,26,3,0],[14,0,4,0],[14,6,4,6,"NATIVE_SUBSCRIPTIONS"],[14,26,4,26],[14,29,4,29],[14,31,4,0],[15,0,5,7],[15,6,5,13,"SharedEventEmitter"],[15,24,5,31],[15,27,5,34],[15,31,5,38,"EventEmitter"],[15,52,5,34],[15,54,5,7],[18,0,6,7],[18,6,6,13,"getAppEventName"],[18,21,6,28],[18,24,6,31],[18,33,6,13,"getAppEventName"],[18,48,6,31],[18,49,6,32,"module"],[18,55,6,31],[18,57,6,40,"eventName"],[18,66,6,31],[19,0,6,31],[19,11,6,57,"module"],[19,17,6,63],[19,18,6,64,"app"],[19,21,6,57],[19,22,6,68,"name"],[19,26,6,31],[19,35,6,76,"eventName"],[19,44,6,31],[20,0,6,31],[20,3,6,7],[24,0,8,0],[24,6,8,6,"getNativeEmitter"],[24,22,8,22],[24,25,8,25],[24,34,8,6,"getNativeEmitter"],[24,50,8,25],[24,51,8,26,"moduleName"],[24,61,8,25],[24,63,8,38,"module"],[24,69,8,25],[24,71,8,49],[25,0,9,2],[25,8,9,8,"name"],[25,12,9,12],[25,15,9,18,"module"],[25,21,9,24],[25,22,9,25,"app"],[25,25,9,18],[25,26,9,29,"name"],[25,30,9,12],[25,39,9,37,"moduleName"],[25,49,9,2],[26,0,10,2],[26,8,10,8,"nativeModule"],[26,20,10,20],[26,23,10,23,"NativeModules"],[26,50,10,37,"moduleName"],[26,60,10,23],[26,61,10,2],[28,0,12,2],[28,8,12,6],[28,9,12,7,"NATIVE_EMITTERS"],[28,24,12,22],[28,25,12,23,"name"],[28,29,12,22],[28,30,12,2],[28,32,12,30],[29,0,13,4,"NATIVE_EMITTERS"],[29,6,13,4,"NATIVE_EMITTERS"],[29,21,13,19],[29,22,13,20,"name"],[29,26,13,19],[29,27,13,4],[29,30,13,28],[29,34,13,32,"NativeEventEmitter"],[29,65,13,28],[29,66,13,51,"nativeModule"],[29,78,13,28],[29,79,13,4],[30,0,14,3],[32,0,16,2],[32,11,16,9,"NATIVE_EMITTERS"],[32,26,16,24],[32,27,16,25,"name"],[32,31,16,24],[32,32,16,2],[33,0,17,1],[33,3,8,0],[35,0,31,0],[35,6,31,6,"subscribeToNativeModuleEvents"],[35,35,31,35],[35,38,31,38],[35,47,31,6,"subscribeToNativeModuleEvents"],[35,76,31,38],[35,77,31,39,"moduleName"],[35,87,31,38],[35,89,31,51,"module"],[35,95,31,38],[35,97,31,59,"eventName"],[35,106,31,38],[35,108,31,73],[36,0,32,2],[36,8,32,6],[36,9,32,7,"NATIVE_SUBSCRIPTIONS"],[36,29,32,27],[36,30,32,28,"eventName"],[36,39,32,27],[36,40,32,2],[36,42,32,40],[37,0,33,4],[37,10,33,10,"nativeEmitter"],[37,23,33,23],[37,26,33,26,"getNativeEmitter"],[37,42,33,42],[37,43,33,43,"moduleName"],[37,53,33,42],[37,55,33,55,"module"],[37,61,33,42],[37,62,33,4],[38,0,34,4,"nativeEmitter"],[38,6,34,4,"nativeEmitter"],[38,19,34,17],[38,20,34,18,"addListener"],[38,31,34,4],[38,32,34,30,"eventName"],[38,41,34,4],[38,43,34,41],[38,53,34,41,"event"],[38,58,34,46],[38,60,34,50],[39,0,35,6],[39,12,35,10,"event"],[39,17,35,15],[39,18,35,16,"appName"],[39,25,35,6],[39,27,35,25],[40,0,37,8,"SharedEventEmitter"],[40,10,37,8,"SharedEventEmitter"],[40,28,37,26],[40,29,37,27,"emit"],[40,33,37,8],[40,34,37,35,"event"],[40,39,37,40],[40,40,37,41,"appName"],[40,47,37,8],[40,56,37,52,"eventName"],[40,65,37,8],[40,67,37,65,"event"],[40,72,37,8],[41,0,38,7],[41,9,35,6],[41,15,38,13],[42,0,40,8,"SharedEventEmitter"],[42,10,40,8,"SharedEventEmitter"],[42,28,40,26],[42,29,40,27,"emit"],[42,33,40,8],[42,34,40,32,"eventName"],[42,43,40,8],[42,45,40,43,"event"],[42,50,40,8],[43,0,41,7],[44,0,42,5],[44,7,34,4],[45,0,43,4,"NATIVE_SUBSCRIPTIONS"],[45,6,43,4,"NATIVE_SUBSCRIPTIONS"],[45,26,43,24],[45,27,43,25,"eventName"],[45,36,43,24],[45,37,43,4],[45,40,43,38],[45,44,43,4],[46,0,44,3],[47,0,45,1],[47,3,31,0],[49,0,47,7],[49,6,47,13,"initialiseNativeModuleEventEmitter"],[49,40,47,47],[49,43,47,50],[49,52,47,13,"initialiseNativeModuleEventEmitter"],[49,86,47,50],[49,87,47,51,"module"],[49,93,47,50],[49,95,47,59,"config"],[49,101,47,50],[49,103,47,70],[50,0,47,70],[50,8,49,4,"events"],[50,14,47,70],[50,17,51,6,"config"],[50,23,47,70],[50,24,49,4,"events"],[50,30,47,70],[51,0,47,70],[51,8,50,4,"moduleName"],[51,18,47,70],[51,21,51,6,"config"],[51,27,47,70],[51,28,50,4,"moduleName"],[51,38,47,70],[53,0,53,2],[53,8,53,6,"events"],[53,14,53,12],[53,18,53,16,"events"],[53,24,53,22],[53,25,53,23,"length"],[53,31,53,2],[53,33,53,31],[54,0,54,4],[54,11,54,9],[54,15,54,13,"i"],[54,16,54,14],[54,19,54,17],[54,20,54,9],[54,22,54,20,"len"],[54,25,54,23],[54,28,54,26,"events"],[54,34,54,32],[54,35,54,33,"length"],[54,41,54,4],[54,43,54,41,"i"],[54,44,54,42],[54,47,54,45,"len"],[54,50,54,4],[54,52,54,50,"i"],[54,53,54,51],[54,55,54,4],[54,57,54,55],[55,0,55,6,"subscribeToNativeModuleEvents"],[55,8,55,6,"subscribeToNativeModuleEvents"],[55,37,55,35],[55,38,55,36,"moduleName"],[55,48,55,35],[55,50,55,48,"module"],[55,56,55,35],[55,58,55,56,"events"],[55,64,55,62],[55,65,55,63,"i"],[55,66,55,62],[55,67,55,35],[55,68,55,6],[56,0,56,5],[57,0,57,3],[58,0,58,1],[58,3,47,7]]},"type":"js/module"}]}