{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"./Query","data":{"isAsync":false}},{"name":"./DocumentReference","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _Query = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./Query\"));\n\n  var _DocumentReference = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./DocumentReference\"));\n\n  var _utils = _$$_REQUIRE(_dependencyMap[5], \"../../utils\");\n\n  var CollectionReference = function () {\n    function CollectionReference(firestore, collectionPath) {\n      (0, _classCallCheck2.default)(this, CollectionReference);\n      this._collectionPath = collectionPath;\n      this._firestore = firestore;\n      this._query = new _Query.default(firestore, collectionPath);\n    }\n\n    (0, _createClass2.default)(CollectionReference, [{\n      key: \"isEqual\",\n      value: function isEqual(otherCollectionReference) {\n        if (!(otherCollectionReference instanceof CollectionReference)) {\n          throw new Error('firebase.firestore.CollectionReference.isEqual(*) expects an instance of CollectionReference.');\n        }\n\n        if (this.path !== otherCollectionReference.path) return false;\n\n        if (this._firestore.app.name !== otherCollectionReference._firestore.app.name) {\n          return false;\n        }\n\n        if (this._firestore.app.options.projectId !== otherCollectionReference._firestore.app.options.projectId) {\n          return false;\n        }\n\n        return true;\n      }\n    }, {\n      key: \"add\",\n      value: function add(data) {\n        var documentRef = this.doc();\n        return documentRef.set(data).then(function () {\n          return Promise.resolve(documentRef);\n        });\n      }\n    }, {\n      key: \"doc\",\n      value: function doc(documentPath) {\n        var newPath = documentPath || (0, _utils.firestoreAutoId)();\n\n        var path = this._collectionPath.child(newPath);\n\n        if (!path.isDocument) {\n          throw new Error('Argument \"documentPath\" must point to a document.');\n        }\n\n        return new _DocumentReference.default(this._firestore, path);\n      }\n    }, {\n      key: \"endAt\",\n      value: function endAt() {\n        for (var _len = arguments.length, snapshotOrVarArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n          snapshotOrVarArgs[_key] = arguments[_key];\n        }\n\n        return this._query.endAt(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"endBefore\",\n      value: function endBefore() {\n        for (var _len2 = arguments.length, snapshotOrVarArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          snapshotOrVarArgs[_key2] = arguments[_key2];\n        }\n\n        return this._query.endBefore(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"get\",\n      value: function get(options) {\n        return this._query.get(options);\n      }\n    }, {\n      key: \"limit\",\n      value: function limit(_limit) {\n        return this._query.limit(_limit);\n      }\n    }, {\n      key: \"onSnapshot\",\n      value: function onSnapshot(optionsOrObserverOrOnNext, observerOrOnNextOrOnError, onError) {\n        return this._query.onSnapshot(optionsOrObserverOrOnNext, observerOrOnNextOrOnError, onError);\n      }\n    }, {\n      key: \"orderBy\",\n      value: function orderBy(fieldPath, directionStr) {\n        return this._query.orderBy(fieldPath, directionStr);\n      }\n    }, {\n      key: \"startAfter\",\n      value: function startAfter() {\n        for (var _len3 = arguments.length, snapshotOrVarArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          snapshotOrVarArgs[_key3] = arguments[_key3];\n        }\n\n        return this._query.startAfter(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"startAt\",\n      value: function startAt() {\n        for (var _len4 = arguments.length, snapshotOrVarArgs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          snapshotOrVarArgs[_key4] = arguments[_key4];\n        }\n\n        return this._query.startAt(snapshotOrVarArgs);\n      }\n    }, {\n      key: \"where\",\n      value: function where(fieldPath, opStr, value) {\n        return this._query.where(fieldPath, opStr, value);\n      }\n    }, {\n      key: \"firestore\",\n      get: function get() {\n        return this._firestore;\n      }\n    }, {\n      key: \"id\",\n      get: function get() {\n        return this._collectionPath.id;\n      }\n    }, {\n      key: \"parent\",\n      get: function get() {\n        var parentPath = this._collectionPath.parent();\n\n        return parentPath ? new _DocumentReference.default(this._firestore, parentPath) : null;\n      }\n    }, {\n      key: \"path\",\n      get: function get() {\n        return this._collectionPath.relativeName;\n      }\n    }]);\n    return CollectionReference;\n  }();\n\n  exports.default = CollectionReference;\n});","map":[[13,0,5,0],[15,0,6,0],[17,0,7,0],[19,6,12,21,"CollectionReference"],[19,25],[20,0,13,2],[20,33,13,14,"firestore"],[20,42,13,2],[20,44,13,25,"collectionPath"],[20,58,13,2],[20,60,13,41],[21,0,13,41],[22,0,14,4],[22,11,14,9,"_collectionPath"],[22,26,14,4],[22,29,14,27,"collectionPath"],[22,43,14,4],[23,0,15,4],[23,11,15,9,"_firestore"],[23,21,15,4],[23,24,15,22,"firestore"],[23,33,15,4],[24,0,16,4],[24,11,16,9,"_query"],[24,17,16,4],[24,20,16,18],[24,24,16,22,"Query"],[24,38,16,18],[24,39,16,28,"firestore"],[24,48,16,18],[24,50,16,39,"collectionPath"],[24,64,16,18],[24,65,16,4],[25,0,17,3],[29,30,37,10,"otherCollectionReference"],[29,54],[29,56,37,36],[30,0,38,4],[30,12,38,8],[30,14,38,10,"otherCollectionReference"],[30,38,38,34],[30,50,38,46,"CollectionReference"],[30,69,38,8],[30,70,38,4],[30,72,38,68],[31,0,39,6],[31,16,39,12],[31,20,39,16,"Error"],[31,25,39,12],[31,26,39,22],[31,121,39,12],[31,122,39,6],[32,0,40,5],[34,0,43,4],[34,12,43,8],[34,17,43,13,"path"],[34,21,43,8],[34,26,43,22,"otherCollectionReference"],[34,50,43,46],[34,51,43,47,"path"],[34,55,43,4],[34,57,43,53],[34,64,43,60],[34,69,43,53],[36,0,45,4],[36,12,45,8],[36,17,45,13,"_firestore"],[36,27,45,8],[36,28,45,24,"app"],[36,31,45,8],[36,32,45,28,"name"],[36,36,45,8],[36,41,45,37,"otherCollectionReference"],[36,65,45,61],[36,66,45,62,"_firestore"],[36,76,45,37],[36,77,45,73,"app"],[36,80,45,37],[36,81,45,77,"name"],[36,85,45,4],[36,87,45,83],[37,0,46,6],[37,17,46,13],[37,22,46,6],[38,0,47,5],[40,0,51,4],[40,12,51,8],[40,17,51,13,"_firestore"],[40,27,51,8],[40,28,51,24,"app"],[40,31,51,8],[40,32,51,28,"options"],[40,39,51,8],[40,40,51,36,"projectId"],[40,49,51,8],[40,54,51,50,"otherCollectionReference"],[40,78,51,74],[40,79,51,75,"_firestore"],[40,89,51,50],[40,90,51,86,"app"],[40,93,51,50],[40,94,51,90,"options"],[40,101,51,50],[40,102,51,98,"projectId"],[40,111,51,4],[40,113,51,109],[41,0,52,6],[41,17,52,13],[41,22,52,6],[42,0,53,5],[44,0,55,4],[44,15,55,11],[44,19,55,4],[45,0,56,3],[48,26,58,6,"data"],[48,30],[48,32,58,12],[49,0,59,4],[49,12,59,10,"documentRef"],[49,23,59,21],[49,26,59,24],[49,31,59,29,"doc"],[49,34,59,24],[49,36,59,4],[50,0,60,4],[50,15,60,11,"documentRef"],[50,26,60,22],[50,27,60,23,"set"],[50,30,60,11],[50,31,60,27,"data"],[50,35,60,11],[50,37,60,33,"then"],[50,41,60,11],[50,42,60,38],[51,0,60,38],[51,17,60,44,"Promise"],[51,24,60,51],[51,25,60,52,"resolve"],[51,32,60,44],[51,33,60,60,"documentRef"],[51,44,60,44],[51,45,60,38],[52,0,60,38],[52,9,60,11],[52,10,60,4],[53,0,61,3],[56,26,63,6,"documentPath"],[56,38],[56,40,63,20],[57,0,64,4],[57,12,64,10,"newPath"],[57,19,64,17],[57,22,64,20,"documentPath"],[57,34,64,32],[57,38,64,36],[57,67,64,4],[59,0,66,4],[59,12,66,10,"path"],[59,16,66,14],[59,19,66,17],[59,24,66,22,"_collectionPath"],[59,39,66,17],[59,40,66,38,"child"],[59,45,66,17],[59,46,66,44,"newPath"],[59,53,66,17],[59,54,66,4],[61,0,68,4],[61,12,68,8],[61,13,68,9,"path"],[61,17,68,13],[61,18,68,14,"isDocument"],[61,28,68,4],[61,30,68,26],[62,0,69,6],[62,16,69,12],[62,20,69,16,"Error"],[62,25,69,12],[62,26,69,22],[62,77,69,12],[62,78,69,6],[63,0,70,5],[65,0,72,4],[65,15,72,11],[65,19,72,15,"DocumentReference"],[65,45,72,11],[65,46,72,33],[65,51,72,38,"_firestore"],[65,61,72,11],[65,63,72,50,"path"],[65,67,72,11],[65,68,72,4],[66,0,73,3],[69,30,76,30],[70,0,76,30],[70,42,76,11,"snapshotOrVarArgs"],[70,59,76,30],[71,0,76,11,"snapshotOrVarArgs"],[71,10,76,11,"snapshotOrVarArgs"],[71,27,76,30],[72,0,76,30],[74,0,77,4],[74,15,77,11],[74,20,77,16,"_query"],[74,26,77,11],[74,27,77,23,"endAt"],[74,32,77,11],[74,33,77,29,"snapshotOrVarArgs"],[74,50,77,11],[74,51,77,4],[75,0,78,3],[78,34,80,34],[79,0,80,34],[79,43,80,15,"snapshotOrVarArgs"],[79,60,80,34],[80,0,80,15,"snapshotOrVarArgs"],[80,10,80,15,"snapshotOrVarArgs"],[80,27,80,34],[81,0,80,34],[83,0,81,4],[83,15,81,11],[83,20,81,16,"_query"],[83,26,81,11],[83,27,81,23,"endBefore"],[83,36,81,11],[83,37,81,33,"snapshotOrVarArgs"],[83,54,81,11],[83,55,81,4],[84,0,82,3],[87,26,84,6,"options"],[87,33],[87,35,84,15],[88,0,85,4],[88,15,85,11],[88,20,85,16,"_query"],[88,26,85,11],[88,27,85,23,"get"],[88,30,85,11],[88,31,85,27,"options"],[88,38,85,11],[88,39,85,4],[89,0,86,3],[92,28,88,8,"limit"],[92,34],[92,36,88,15],[93,0,89,4],[93,15,89,11],[93,20,89,16,"_query"],[93,26,89,11],[93,27,89,23,"limit"],[93,32,89,11],[93,33,89,29,"limit"],[93,39,89,11],[93,40,89,4],[94,0,90,3],[97,33,92,13,"optionsOrObserverOrOnNext"],[97,58],[97,60,92,40,"observerOrOnNextOrOnError"],[97,85],[97,87,92,67,"onError"],[97,94],[97,96,92,76],[98,0,93,4],[98,15,93,11],[98,20,93,16,"_query"],[98,26,93,11],[98,27,93,23,"onSnapshot"],[98,37,93,11],[98,38,93,34,"optionsOrObserverOrOnNext"],[98,63,93,11],[98,65,93,61,"observerOrOnNextOrOnError"],[98,90,93,11],[98,92,93,88,"onError"],[98,99,93,11],[98,100,93,4],[99,0,94,3],[102,30,96,10,"fieldPath"],[102,39],[102,41,96,21,"directionStr"],[102,53],[102,55,96,35],[103,0,97,4],[103,15,97,11],[103,20,97,16,"_query"],[103,26,97,11],[103,27,97,23,"orderBy"],[103,34,97,11],[103,35,97,31,"fieldPath"],[103,44,97,11],[103,46,97,42,"directionStr"],[103,58,97,11],[103,59,97,4],[104,0,98,3],[107,35,100,35],[108,0,100,35],[108,43,100,16,"snapshotOrVarArgs"],[108,60,100,35],[109,0,100,16,"snapshotOrVarArgs"],[109,10,100,16,"snapshotOrVarArgs"],[109,27,100,35],[110,0,100,35],[112,0,101,4],[112,15,101,11],[112,20,101,16,"_query"],[112,26,101,11],[112,27,101,23,"startAfter"],[112,37,101,11],[112,38,101,34,"snapshotOrVarArgs"],[112,55,101,11],[112,56,101,4],[113,0,102,3],[116,32,104,32],[117,0,104,32],[117,43,104,13,"snapshotOrVarArgs"],[117,60,104,32],[118,0,104,13,"snapshotOrVarArgs"],[118,10,104,13,"snapshotOrVarArgs"],[118,27,104,32],[119,0,104,32],[121,0,105,4],[121,15,105,11],[121,20,105,16,"_query"],[121,26,105,11],[121,27,105,23,"startAt"],[121,34,105,11],[121,35,105,31,"snapshotOrVarArgs"],[121,52,105,11],[121,53,105,4],[122,0,106,3],[125,28,108,8,"fieldPath"],[125,37],[125,39,108,19,"opStr"],[125,44],[125,46,108,26,"value"],[125,51],[125,53,108,33],[126,0,109,4],[126,15,109,11],[126,20,109,16,"_query"],[126,26,109,11],[126,27,109,23,"where"],[126,32,109,11],[126,33,109,29,"fieldPath"],[126,42,109,11],[126,44,109,40,"opStr"],[126,49,109,11],[126,51,109,47,"value"],[126,56,109,11],[126,57,109,4],[127,0,110,3],[130,26,19,18],[131,0,20,4],[131,15,20,11],[131,20,20,16,"_firestore"],[131,30,20,4],[132,0,21,3],[135,26,23,11],[136,0,24,4],[136,15,24,11],[136,20,24,16,"_collectionPath"],[136,35,24,11],[136,36,24,32,"id"],[136,38,24,4],[137,0,25,3],[140,26,27,15],[141,0,28,4],[141,12,28,10,"parentPath"],[141,22,28,20],[141,25,28,23],[141,30,28,28,"_collectionPath"],[141,45,28,23],[141,46,28,44,"parent"],[141,52,28,23],[141,54,28,4],[143,0,30,4],[143,15,30,11,"parentPath"],[143,25,30,21],[143,28,30,24],[143,32,30,28,"DocumentReference"],[143,58,30,24],[143,59,30,46],[143,64,30,51,"_firestore"],[143,74,30,24],[143,76,30,63,"parentPath"],[143,86,30,24],[143,87,30,21],[143,90,30,77],[143,94,30,4],[144,0,31,3],[147,26,33,13],[148,0,34,4],[148,15,34,11],[148,20,34,16,"_collectionPath"],[148,35,34,11],[148,36,34,32,"relativeName"],[148,48,34,4],[149,0,35,3]]},"type":"js/module"}]}