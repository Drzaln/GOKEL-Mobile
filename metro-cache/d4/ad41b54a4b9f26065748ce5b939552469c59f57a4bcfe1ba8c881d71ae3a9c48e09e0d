{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./events","data":{"isAsync":false}},{"name":"./internals","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.initialiseNativeModule = exports.getNativeModule = void 0;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _events = _$$_REQUIRE(_dependencyMap[3], \"./events\");\n\n  var _internals = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./internals\"));\n\n  var NATIVE_MODULES = {};\n\n  var nativeWithArgs = function nativeWithArgs(NativeModule, argToPrepend) {\n    var native = {};\n    var methods = Object.keys(NativeModule);\n\n    var _loop = function _loop(i, len) {\n      var method = methods[i];\n\n      if (typeof NativeModule[method] === 'function') {\n        native[method] = function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          return NativeModule[method].apply(NativeModule, [].concat((0, _toConsumableArray2.default)(argToPrepend), args));\n        };\n      } else {\n        native[method] = NativeModule[method];\n      }\n    };\n\n    for (var i = 0, len = methods.length; i < len; i++) {\n      _loop(i, len);\n    }\n\n    return native;\n  };\n\n  var nativeModuleKey = function nativeModuleKey(module) {\n    return (module._customUrlOrRegion || module.app.name) + \":\" + module.namespace;\n  };\n\n  var getNativeModule = function getNativeModule(module) {\n    return NATIVE_MODULES[nativeModuleKey(module)];\n  };\n\n  exports.getNativeModule = getNativeModule;\n\n  var initialiseNativeModule = function initialiseNativeModule(module, config, customUrlOrRegion) {\n    var moduleName = config.moduleName,\n        hasMultiAppSupport = config.hasMultiAppSupport,\n        hasCustomUrlSupport = config.hasCustomUrlSupport,\n        hasRegionsSupport = config.hasRegionsSupport,\n        namespace = config.namespace;\n    var nativeModule = _reactNative.NativeModules[moduleName];\n    var key = nativeModuleKey(module);\n\n    if (!nativeModule && namespace !== 'utils') {\n      throw new Error(_internals.default.STRINGS.ERROR_MISSING_MODULE(namespace, moduleName));\n    }\n\n    var argToPrepend = [];\n\n    if (hasMultiAppSupport) {\n      argToPrepend.push(module.app.name);\n    }\n\n    if (hasCustomUrlSupport || hasRegionsSupport) {\n      argToPrepend.push(customUrlOrRegion);\n    }\n\n    if (argToPrepend.length) {\n      NATIVE_MODULES[key] = nativeWithArgs(nativeModule, argToPrepend);\n    } else {\n      NATIVE_MODULES[key] = nativeModule;\n    }\n\n    (0, _events.initialiseNativeModuleEventEmitter)(module, config);\n    return NATIVE_MODULES[key];\n  };\n\n  exports.initialiseNativeModule = initialiseNativeModule;\n});","map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,4,0],[17,6,4,6,"NATIVE_MODULES"],[17,20,4,20],[17,23,4,23],[17,25,4,0],[19,0,11,0],[19,6,11,6,"nativeWithArgs"],[19,20,11,20],[19,23,11,23],[19,32,11,6,"nativeWithArgs"],[19,46,11,23],[19,47,11,24,"NativeModule"],[19,59,11,23],[19,61,11,38,"argToPrepend"],[19,73,11,23],[19,75,11,55],[20,0,12,2],[20,8,12,8,"native"],[20,14,12,14],[20,17,12,17],[20,19,12,2],[21,0,13,2],[21,8,13,8,"methods"],[21,15,13,15],[21,18,13,18,"Object"],[21,24,13,24],[21,25,13,25,"keys"],[21,29,13,18],[21,30,13,30,"NativeModule"],[21,42,13,18],[21,43,13,2],[23,0,11,55],[23,31,15,11,"i"],[23,32,11,55],[23,34,15,18,"len"],[23,37,11,55],[24,0,16,4],[24,10,16,10,"method"],[24,16,16,16],[24,19,16,19,"methods"],[24,26,16,26],[24,27,16,27,"i"],[24,28,16,26],[24,29,16,4],[26,0,18,4],[26,10,18,8],[26,17,18,15,"NativeModule"],[26,29,18,27],[26,30,18,28,"method"],[26,36,18,27],[26,37,18,8],[26,42,18,40],[26,52,18,4],[26,54,18,52],[27,0,19,6,"native"],[27,8,19,6,"native"],[27,14,19,12],[27,15,19,13,"method"],[27,21,19,12],[27,22,19,6],[27,25,19,23],[28,0,19,23],[28,44,19,27,"args"],[28,48,19,23],[29,0,19,27,"args"],[29,12,19,27,"args"],[29,16,19,23],[30,0,19,23],[32,0,19,23],[32,17,19,36,"NativeModule"],[32,29,19,48],[32,30,19,49,"method"],[32,36,19,48],[32,37,19,36],[32,44,19,36,"NativeModule"],[32,56,19,48],[32,101,19,64,"argToPrepend"],[32,113,19,48],[32,116,19,81,"args"],[32,120,19,48],[32,122,19,23],[33,0,19,23],[33,9,19,6],[34,0,20,5],[34,7,18,4],[34,13,20,11],[35,0,21,6,"native"],[35,8,21,6,"native"],[35,14,21,12],[35,15,21,13,"method"],[35,21,21,12],[35,22,21,6],[35,25,21,23,"NativeModule"],[35,37,21,35],[35,38,21,36,"method"],[35,44,21,35],[35,45,21,6],[36,0,22,5],[37,0,11,55],[39,0,15,2],[39,9,15,7],[39,13,15,11,"i"],[39,14,15,12],[39,17,15,15],[39,18,15,7],[39,20,15,18,"len"],[39,23,15,21],[39,26,15,24,"methods"],[39,33,15,31],[39,34,15,32,"length"],[39,40,15,2],[39,42,15,40,"i"],[39,43,15,41],[39,46,15,44,"len"],[39,49,15,2],[39,51,15,49,"i"],[39,52,15,50],[39,54,15,2],[39,56,15,54],[40,0,15,54],[40,12,15,11,"i"],[40,13,15,54],[40,15,15,18,"len"],[40,18,15,54],[41,0,23,3],[43,0,25,2],[43,11,25,9,"native"],[43,17,25,2],[44,0,26,1],[44,3,11,0],[46,0,28,0],[46,6,28,6,"nativeModuleKey"],[46,21,28,21],[46,24,28,24],[46,33,28,6,"nativeModuleKey"],[46,48,28,24],[46,49,28,24,"module"],[46,55,28,30],[47,0,28,30],[47,12,28,37,"module"],[47,18,28,43],[47,19,28,44,"_customUrlOrRegion"],[47,37,28,37],[47,41,28,66,"module"],[47,47,28,72],[47,48,28,73,"app"],[47,51,28,66],[47,52,28,77,"name"],[47,56,28,30],[47,66,28,85,"module"],[47,72,28,91],[47,73,28,92,"namespace"],[47,82,28,30],[48,0,28,30],[48,3,28,0],[50,0,30,7],[50,6,30,13,"getNativeModule"],[50,21,30,28],[50,24,30,31],[50,33,30,13,"getNativeModule"],[50,48,30,31],[50,49,30,31,"module"],[50,55,30,37],[51,0,30,37],[51,11,30,41,"NATIVE_MODULES"],[51,25,30,55],[51,26,30,56,"nativeModuleKey"],[51,41,30,71],[51,42,30,72,"module"],[51,48,30,71],[51,49,30,55],[51,50,30,37],[52,0,30,37],[52,3,30,7],[56,0,31,7],[56,6,31,13,"initialiseNativeModule"],[56,28,31,35],[56,31,31,38],[56,40,31,13,"initialiseNativeModule"],[56,62,31,38],[56,63,31,39,"module"],[56,69,31,38],[56,71,31,47,"config"],[56,77,31,38],[56,79,31,55,"customUrlOrRegion"],[56,96,31,38],[56,98,31,77],[57,0,31,77],[57,8,33,4,"moduleName"],[57,18,31,77],[57,21,38,6,"config"],[57,27,31,77],[57,28,33,4,"moduleName"],[57,38,31,77],[58,0,31,77],[58,8,34,4,"hasMultiAppSupport"],[58,26,31,77],[58,29,38,6,"config"],[58,35,31,77],[58,36,34,4,"hasMultiAppSupport"],[58,54,31,77],[59,0,31,77],[59,8,35,4,"hasCustomUrlSupport"],[59,27,31,77],[59,30,38,6,"config"],[59,36,31,77],[59,37,35,4,"hasCustomUrlSupport"],[59,56,31,77],[60,0,31,77],[60,8,36,4,"hasRegionsSupport"],[60,25,31,77],[60,28,38,6,"config"],[60,34,31,77],[60,35,36,4,"hasRegionsSupport"],[60,52,31,77],[61,0,31,77],[61,8,37,4,"namespace"],[61,17,31,77],[61,20,38,6,"config"],[61,26,31,77],[61,27,37,4,"namespace"],[61,36,31,77],[62,0,39,2],[62,8,39,8,"nativeModule"],[62,20,39,20],[62,23,39,23,"NativeModules"],[62,50,39,37,"moduleName"],[62,60,39,23],[62,61,39,2],[63,0,40,2],[63,8,40,8,"key"],[63,11,40,11],[63,14,40,14,"nativeModuleKey"],[63,29,40,29],[63,30,40,30,"module"],[63,36,40,29],[63,37,40,2],[65,0,42,2],[65,8,42,6],[65,9,42,7,"nativeModule"],[65,21,42,6],[65,25,42,23,"namespace"],[65,34,42,32],[65,39,42,37],[65,46,42,2],[65,48,42,46],[66,0,43,4],[66,12,43,10],[66,16,43,14,"Error"],[66,21,43,10],[66,22,43,20,"INTERNALS"],[66,41,43,30,"STRINGS"],[66,48,43,20],[66,49,43,38,"ERROR_MISSING_MODULE"],[66,69,43,20],[66,70,43,59,"namespace"],[66,79,43,20],[66,81,43,70,"moduleName"],[66,91,43,20],[66,92,43,10],[66,93,43,4],[67,0,44,3],[69,0,48,2],[69,8,48,8,"argToPrepend"],[69,20,48,20],[69,23,48,23],[69,25,48,2],[71,0,50,2],[71,8,50,6,"hasMultiAppSupport"],[71,26,50,2],[71,28,50,26],[72,0,51,4,"argToPrepend"],[72,6,51,4,"argToPrepend"],[72,18,51,16],[72,19,51,17,"push"],[72,23,51,4],[72,24,51,22,"module"],[72,30,51,28],[72,31,51,29,"app"],[72,34,51,22],[72,35,51,33,"name"],[72,39,51,4],[73,0,52,3],[75,0,54,2],[75,8,54,6,"hasCustomUrlSupport"],[75,27,54,25],[75,31,54,29,"hasRegionsSupport"],[75,48,54,2],[75,50,54,48],[76,0,55,4,"argToPrepend"],[76,6,55,4,"argToPrepend"],[76,18,55,16],[76,19,55,17,"push"],[76,23,55,4],[76,24,55,22,"customUrlOrRegion"],[76,41,55,4],[77,0,56,3],[79,0,58,2],[79,8,58,6,"argToPrepend"],[79,20,58,18],[79,21,58,19,"length"],[79,27,58,2],[79,29,58,27],[80,0,59,4,"NATIVE_MODULES"],[80,6,59,4,"NATIVE_MODULES"],[80,20,59,18],[80,21,59,19,"key"],[80,24,59,18],[80,25,59,4],[80,28,59,26,"nativeWithArgs"],[80,42,59,40],[80,43,59,41,"nativeModule"],[80,55,59,40],[80,57,59,55,"argToPrepend"],[80,69,59,40],[80,70,59,4],[81,0,60,3],[81,5,58,2],[81,11,60,9],[82,0,61,4,"NATIVE_MODULES"],[82,6,61,4,"NATIVE_MODULES"],[82,20,61,18],[82,21,61,19,"key"],[82,24,61,18],[82,25,61,4],[82,28,61,26,"nativeModule"],[82,40,61,4],[83,0,62,3],[85,0,64,2],[85,52,64,37,"module"],[85,58,64,2],[85,60,64,45,"config"],[85,66,64,2],[86,0,65,2],[86,11,65,9,"NATIVE_MODULES"],[86,25,65,23],[86,26,65,24,"key"],[86,29,65,23],[86,30,65,2],[87,0,66,1],[87,3,31,7]]},"type":"js/module"}]}