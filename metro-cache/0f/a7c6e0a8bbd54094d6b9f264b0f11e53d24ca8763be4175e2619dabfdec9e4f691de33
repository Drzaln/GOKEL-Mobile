{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/assertThisInitialized","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"../../utils/events","data":{"isAsync":false}},{"name":"../../utils/internals","data":{"isAsync":false}},{"name":"../../utils/log","data":{"isAsync":false}},{"name":"../../utils/ModuleBase","data":{"isAsync":false}},{"name":"../../utils/native","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}},{"name":"./IOSMessaging","data":{"isAsync":false}},{"name":"./RemoteMessage","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.statics = exports.default = exports.NAMESPACE = exports.MODULE_NAME = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _assertThisInitialized2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/assertThisInitialized\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[7], \"react-native\");\n\n  var _events = _$$_REQUIRE(_dependencyMap[8], \"../../utils/events\");\n\n  var _internals = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"../../utils/internals\"));\n\n  var _log = _$$_REQUIRE(_dependencyMap[10], \"../../utils/log\");\n\n  var _ModuleBase2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[11], \"../../utils/ModuleBase\"));\n\n  var _native = _$$_REQUIRE(_dependencyMap[12], \"../../utils/native\");\n\n  var _utils = _$$_REQUIRE(_dependencyMap[13], \"../../utils\");\n\n  var _IOSMessaging = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[14], \"./IOSMessaging\"));\n\n  var _RemoteMessage = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[15], \"./RemoteMessage\"));\n\n  var NATIVE_EVENTS = ['messaging_message_received', 'messaging_token_refreshed'];\n  var MODULE_NAME = 'RNFirebaseMessaging';\n  exports.MODULE_NAME = MODULE_NAME;\n  var NAMESPACE = 'messaging';\n  exports.NAMESPACE = NAMESPACE;\n\n  var Messaging = function (_ModuleBase) {\n    (0, _inherits2.default)(Messaging, _ModuleBase);\n\n    function Messaging(app) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, Messaging);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Messaging).call(this, app, {\n        events: NATIVE_EVENTS,\n        moduleName: MODULE_NAME,\n        hasMultiAppSupport: false,\n        hasCustomUrlSupport: false,\n        namespace: NAMESPACE\n      }));\n      _this._ios = new _IOSMessaging.default((0, _assertThisInitialized2.default)(_this));\n\n      _events.SharedEventEmitter.addListener('messaging_message_received', function (message) {\n        _events.SharedEventEmitter.emit('onMessage', new _RemoteMessage.default(message));\n      });\n\n      _events.SharedEventEmitter.addListener('messaging_token_refreshed', function (token) {\n        _events.SharedEventEmitter.emit('onTokenRefresh', token);\n      });\n\n      if (_reactNative.Platform.OS === 'ios') {\n        (0, _native.getNativeModule)((0, _assertThisInitialized2.default)(_this)).jsInitialised();\n      }\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(Messaging, [{\n      key: \"getToken\",\n      value: function getToken() {\n        return (0, _native.getNativeModule)(this).getToken();\n      }\n    }, {\n      key: \"deleteToken\",\n      value: function deleteToken() {\n        return (0, _native.getNativeModule)(this).deleteToken();\n      }\n    }, {\n      key: \"onMessage\",\n      value: function onMessage(nextOrObserver) {\n        var _this2 = this;\n\n        var listener;\n\n        if ((0, _utils.isFunction)(nextOrObserver)) {\n          listener = nextOrObserver;\n        } else if ((0, _utils.isObject)(nextOrObserver) && (0, _utils.isFunction)(nextOrObserver.next)) {\n          listener = nextOrObserver.next;\n        } else {\n          throw new Error('Messaging.onMessage failed: First argument must be a function or observer object with a `next` function.');\n        }\n\n        (0, _log.getLogger)(this).info('Creating onMessage listener');\n\n        _events.SharedEventEmitter.addListener('onMessage', listener);\n\n        return function () {\n          (0, _log.getLogger)(_this2).info('Removing onMessage listener');\n\n          _events.SharedEventEmitter.removeListener('onMessage', listener);\n        };\n      }\n    }, {\n      key: \"onTokenRefresh\",\n      value: function onTokenRefresh(nextOrObserver) {\n        var _this3 = this;\n\n        var listener;\n\n        if ((0, _utils.isFunction)(nextOrObserver)) {\n          listener = nextOrObserver;\n        } else if ((0, _utils.isObject)(nextOrObserver) && (0, _utils.isFunction)(nextOrObserver.next)) {\n          listener = nextOrObserver.next;\n        } else {\n          throw new Error('Messaging.onTokenRefresh failed: First argument must be a function or observer object with a `next` function.');\n        }\n\n        (0, _log.getLogger)(this).info('Creating onTokenRefresh listener');\n\n        _events.SharedEventEmitter.addListener('onTokenRefresh', listener);\n\n        return function () {\n          (0, _log.getLogger)(_this3).info('Removing onTokenRefresh listener');\n\n          _events.SharedEventEmitter.removeListener('onTokenRefresh', listener);\n        };\n      }\n    }, {\n      key: \"requestPermission\",\n      value: function requestPermission() {\n        return (0, _native.getNativeModule)(this).requestPermission();\n      }\n    }, {\n      key: \"hasPermission\",\n      value: function hasPermission() {\n        return (0, _native.getNativeModule)(this).hasPermission();\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage(remoteMessage) {\n        if (!(remoteMessage instanceof _RemoteMessage.default)) {\n          return Promise.reject(new Error(\"Messaging:sendMessage expects a 'RemoteMessage' but got type \" + typeof remoteMessage));\n        }\n\n        try {\n          return (0, _native.getNativeModule)(this).sendMessage(remoteMessage.build());\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }\n    }, {\n      key: \"subscribeToTopic\",\n      value: function subscribeToTopic(topic) {\n        return (0, _native.getNativeModule)(this).subscribeToTopic(topic);\n      }\n    }, {\n      key: \"unsubscribeFromTopic\",\n      value: function unsubscribeFromTopic(topic) {\n        return (0, _native.getNativeModule)(this).unsubscribeFromTopic(topic);\n      }\n    }, {\n      key: \"setBackgroundMessageHandler\",\n      value: function setBackgroundMessageHandler() {\n        throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('messaging', 'setBackgroundMessageHandler'));\n      }\n    }, {\n      key: \"useServiceWorker\",\n      value: function useServiceWorker() {\n        throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('messaging', 'useServiceWorker'));\n      }\n    }, {\n      key: \"ios\",\n      get: function get() {\n        return this._ios;\n      }\n    }]);\n    return Messaging;\n  }(_ModuleBase2.default);\n\n  exports.default = Messaging;\n  var statics = {\n    RemoteMessage: _RemoteMessage.default\n  };\n  exports.statics = statics;\n});","map":[[21,0,5,0],[23,0,6,0],[25,0,7,0],[27,0,8,0],[29,0,9,0],[31,0,10,0],[33,0,11,0],[35,0,12,0],[37,0,13,0],[39,0,14,0],[39,6,14,6,"NATIVE_EVENTS"],[39,19,14,19],[39,22,14,22],[39,23,14,23],[39,51,14,22],[39,53,14,53],[39,80,14,22],[39,81,14,0],[40,0,15,7],[40,6,15,13,"MODULE_NAME"],[40,17,15,24],[40,20,15,27],[40,41,15,7],[42,0,16,7],[42,6,16,13,"NAMESPACE"],[42,15,16,22],[42,18,16,25],[42,29,16,7],[45,6,21,21,"Messaging"],[45,15],[48,0,22,2],[48,23,22,14,"app"],[48,26,22,2],[48,28,22,19],[49,0,22,19],[51,0,22,19],[52,0,23,4],[52,113,23,10,"app"],[52,116,23,4],[52,118,23,15],[53,0,24,6,"events"],[53,8,24,6,"events"],[53,14,24,12],[53,16,24,14,"NATIVE_EVENTS"],[53,29,23,15],[54,0,25,6,"moduleName"],[54,8,25,6,"moduleName"],[54,18,25,16],[54,20,25,18,"MODULE_NAME"],[54,31,23,15],[55,0,26,6,"hasMultiAppSupport"],[55,8,26,6,"hasMultiAppSupport"],[55,26,26,24],[55,28,26,26],[55,33,23,15],[56,0,27,6,"hasCustomUrlSupport"],[56,8,27,6,"hasCustomUrlSupport"],[56,27,27,25],[56,29,27,27],[56,34,23,15],[57,0,28,6,"namespace"],[57,8,28,6,"namespace"],[57,17,28,15],[57,19,28,17,"NAMESPACE"],[58,0,23,15],[58,7,23,4],[59,0,30,4],[59,12,30,9,"_ios"],[59,16,30,4],[59,19,30,16],[59,23,30,20,"IOSMessaging"],[59,44,30,16],[59,89,30,4],[61,0,31,4,"SharedEventEmitter"],[61,33,31,23,"addListener"],[61,44,31,4],[61,45,33,4],[61,73,31,4],[61,75,33,34],[61,85,33,34,"message"],[61,92,33,41],[61,94,33,45],[62,0,34,6,"SharedEventEmitter"],[62,35,34,25,"emit"],[62,39,34,6],[62,40,34,30],[62,51,34,6],[62,53,34,43],[62,57,34,47,"RemoteMessage"],[62,79,34,43],[62,80,34,61,"message"],[62,87,34,43],[62,88,34,6],[63,0,35,5],[63,7,31,4],[65,0,36,4,"SharedEventEmitter"],[65,33,36,23,"addListener"],[65,44,36,4],[65,45,38,4],[65,72,36,4],[65,74,38,33],[65,84,38,33,"token"],[65,89,38,38],[65,91,38,42],[66,0,39,6,"SharedEventEmitter"],[66,35,39,25,"emit"],[66,39,39,6],[66,40,39,30],[66,56,39,6],[66,58,39,48,"token"],[66,63,39,6],[67,0,40,5],[67,7,36,4],[69,0,42,4],[69,10,42,8,"Platform"],[69,32,42,17,"OS"],[69,34,42,8],[69,39,42,24],[69,44,42,4],[69,46,42,31],[70,0,43,6],[70,82,43,28,"jsInitialised"],[70,95,43,6],[71,0,44,5],[73,0,22,19],[74,0,45,3],[78,33,51,13],[79,0,52,4],[79,15,52,11],[79,44,52,27],[79,48,52,11],[79,50,52,33,"getToken"],[79,58,52,11],[79,60,52,4],[80,0,53,3],[83,36,55,16],[84,0,56,4],[84,15,56,11],[84,44,56,27],[84,48,56,11],[84,50,56,33,"deleteToken"],[84,61,56,11],[84,63,56,4],[85,0,57,3],[88,32,59,12,"nextOrObserver"],[88,46],[88,48,59,28],[89,0,59,28],[91,0,60,4],[91,12,60,8,"listener"],[91,20,60,4],[93,0,62,4],[93,12,62,8],[93,35,62,19,"nextOrObserver"],[93,49,62,8],[93,50,62,4],[93,52,62,36],[94,0,64,6,"listener"],[94,10,64,6,"listener"],[94,18,64,14],[94,21,64,17,"nextOrObserver"],[94,35,64,6],[95,0,65,5],[95,9,62,4],[95,15,65,11],[95,19,65,15],[95,40,65,24,"nextOrObserver"],[95,54,65,15],[95,59,65,43],[95,82,65,54,"nextOrObserver"],[95,96,65,68],[95,97,65,69,"next"],[95,101,65,43],[95,102,65,11],[95,104,65,76],[96,0,66,6,"listener"],[96,10,66,6,"listener"],[96,18,66,14],[96,21,66,17,"nextOrObserver"],[96,35,66,31],[96,36,66,32,"next"],[96,40,66,6],[97,0,67,5],[97,9,65,11],[97,15,67,11],[98,0,68,6],[98,16,68,12],[98,20,68,16,"Error"],[98,25,68,12],[98,26,68,22],[98,132,68,12],[98,133,68,6],[99,0,69,5],[101,0,71,4],[101,28,71,14],[101,32,71,4],[101,34,71,20,"info"],[101,38,71,4],[101,39,71,25],[101,68,71,4],[103,0,72,4,"SharedEventEmitter"],[103,35,72,23,"addListener"],[103,46,72,4],[103,47,72,35],[103,58,72,4],[103,60,72,48,"listener"],[103,68,72,4],[105,0,73,4],[105,15,73,11],[105,27,73,17],[106,0,74,6],[106,30,74,16],[106,36,74,6],[106,38,74,22,"info"],[106,42,74,6],[106,43,74,27],[106,72,74,6],[108,0,75,6,"SharedEventEmitter"],[108,37,75,25,"removeListener"],[108,51,75,6],[108,52,75,40],[108,63,75,6],[108,65,75,53,"listener"],[108,73,75,6],[109,0,76,5],[109,9,73,4],[110,0,77,3],[113,37,79,17,"nextOrObserver"],[113,51],[113,53,79,33],[114,0,79,33],[116,0,80,4],[116,12,80,8,"listener"],[116,20,80,4],[118,0,82,4],[118,12,82,8],[118,35,82,19,"nextOrObserver"],[118,49,82,8],[118,50,82,4],[118,52,82,36],[119,0,84,6,"listener"],[119,10,84,6,"listener"],[119,18,84,14],[119,21,84,17,"nextOrObserver"],[119,35,84,6],[120,0,85,5],[120,9,82,4],[120,15,85,11],[120,19,85,15],[120,40,85,24,"nextOrObserver"],[120,54,85,15],[120,59,85,43],[120,82,85,54,"nextOrObserver"],[120,96,85,68],[120,97,85,69,"next"],[120,101,85,43],[120,102,85,11],[120,104,85,76],[121,0,86,6,"listener"],[121,10,86,6,"listener"],[121,18,86,14],[121,21,86,17,"nextOrObserver"],[121,35,86,31],[121,36,86,32,"next"],[121,40,86,6],[122,0,87,5],[122,9,85,11],[122,15,87,11],[123,0,88,6],[123,16,88,12],[123,20,88,16,"Error"],[123,25,88,12],[123,26,88,22],[123,137,88,12],[123,138,88,6],[124,0,89,5],[126,0,91,4],[126,28,91,14],[126,32,91,4],[126,34,91,20,"info"],[126,38,91,4],[126,39,91,25],[126,73,91,4],[128,0,92,4,"SharedEventEmitter"],[128,35,92,23,"addListener"],[128,46,92,4],[128,47,92,35],[128,63,92,4],[128,65,92,53,"listener"],[128,73,92,4],[130,0,93,4],[130,15,93,11],[130,27,93,17],[131,0,94,6],[131,30,94,16],[131,36,94,6],[131,38,94,22,"info"],[131,42,94,6],[131,43,94,27],[131,77,94,6],[133,0,95,6,"SharedEventEmitter"],[133,37,95,25,"removeListener"],[133,51,95,6],[133,52,95,40],[133,68,95,6],[133,70,95,58,"listener"],[133,78,95,6],[134,0,96,5],[134,9,93,4],[135,0,97,3],[138,42,99,22],[139,0,100,4],[139,15,100,11],[139,44,100,27],[139,48,100,11],[139,50,100,33,"requestPermission"],[139,67,100,11],[139,69,100,4],[140,0,101,3],[143,38,107,18],[144,0,108,4],[144,15,108,11],[144,44,108,27],[144,48,108,11],[144,50,108,33,"hasPermission"],[144,63,108,11],[144,65,108,4],[145,0,109,3],[148,34,111,14,"remoteMessage"],[148,47],[148,49,111,29],[149,0,112,4],[149,12,112,8],[149,14,112,10,"remoteMessage"],[149,27,112,23],[149,39,112,35,"RemoteMessage"],[149,61,112,8],[149,62,112,4],[149,64,112,51],[150,0,113,6],[150,17,113,13,"Promise"],[150,24,113,20],[150,25,113,21,"reject"],[150,31,113,13],[150,32,113,28],[150,36,113,32,"Error"],[150,41,113,28],[150,108,113,102],[150,115,113,109,"remoteMessage"],[150,128,113,28],[150,129,113,13],[150,130,113,6],[151,0,114,5],[153,0,116,4],[153,12,116,8],[154,0,117,6],[154,17,117,13],[154,46,117,29],[154,50,117,13],[154,52,117,35,"sendMessage"],[154,63,117,13],[154,64,117,47,"remoteMessage"],[154,77,117,60],[154,78,117,61,"build"],[154,83,117,47],[154,85,117,13],[154,86,117,6],[155,0,118,5],[155,9,116,4],[155,10,118,6],[155,17,118,13,"error"],[155,22,118,6],[155,24,118,20],[156,0,119,6],[156,17,119,13,"Promise"],[156,24,119,20],[156,25,119,21,"reject"],[156,31,119,13],[156,32,119,28,"error"],[156,37,119,13],[156,38,119,6],[157,0,120,5],[158,0,121,3],[161,39,123,19,"topic"],[161,44],[161,46,123,26],[162,0,124,4],[162,15,124,11],[162,44,124,27],[162,48,124,11],[162,50,124,33,"subscribeToTopic"],[162,66,124,11],[162,67,124,50,"topic"],[162,72,124,11],[162,73,124,4],[163,0,125,3],[166,43,127,23,"topic"],[166,48],[166,50,127,30],[167,0,128,4],[167,15,128,11],[167,44,128,27],[167,48,128,11],[167,50,128,33,"unsubscribeFromTopic"],[167,70,128,11],[167,71,128,54,"topic"],[167,76,128,11],[167,77,128,4],[168,0,129,3],[171,52,135,32],[172,0,136,4],[172,14,136,10],[172,18,136,14,"Error"],[172,23,136,10],[172,24,136,20,"INTERNALS"],[172,43,136,30,"STRINGS"],[172,50,136,20],[172,51,136,38,"ERROR_UNSUPPORTED_MODULE_METHOD"],[172,82,136,20],[172,83,136,70],[172,94,136,20],[172,96,136,83],[172,125,136,20],[172,126,136,10],[172,127,136,4],[173,0,137,3],[176,41,139,21],[177,0,140,4],[177,14,140,10],[177,18,140,14,"Error"],[177,23,140,10],[177,24,140,20,"INTERNALS"],[177,43,140,30,"STRINGS"],[177,50,140,20],[177,51,140,38,"ERROR_UNSUPPORTED_MODULE_METHOD"],[177,82,140,20],[177,83,140,70],[177,94,140,20],[177,96,140,83],[177,114,140,20],[177,115,140,10],[177,116,140,4],[178,0,141,3],[181,26,47,12],[182,0,48,4],[182,15,48,11],[182,20,48,16,"_ios"],[182,24,48,4],[183,0,49,3],[186,4,21,39,"ModuleBase"],[186,24],[189,0,144,7],[189,6,144,13,"statics"],[189,13,144,20],[189,16,144,23],[190,0,145,2,"RemoteMessage"],[190,4,145,2,"RemoteMessage"],[190,17,145,15],[190,19,145,2,"RemoteMessage"],[191,0,144,23],[191,3,144,7]]},"type":"js/module"}]}