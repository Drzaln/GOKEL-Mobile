{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/assertThisInitialized","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./reference","data":{"isAsync":false}},{"name":"../../utils/events","data":{"isAsync":false}},{"name":"../../utils/log","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}},{"name":"../../utils/ModuleBase","data":{"isAsync":false}},{"name":"../../utils/native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.statics = exports.default = exports.NAMESPACE = exports.MODULE_NAME = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _assertThisInitialized2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/assertThisInitialized\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[7], \"react-native\");\n\n  var _reference = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./reference\"));\n\n  var _events = _$$_REQUIRE(_dependencyMap[9], \"../../utils/events\");\n\n  var _log = _$$_REQUIRE(_dependencyMap[10], \"../../utils/log\");\n\n  var _utils = _$$_REQUIRE(_dependencyMap[11], \"../../utils\");\n\n  var _ModuleBase2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[12], \"../../utils/ModuleBase\"));\n\n  var _native = _$$_REQUIRE(_dependencyMap[13], \"../../utils/native\");\n\n  var FirebaseStorage = _reactNative.NativeModules.RNFirebaseStorage;\n  var NATIVE_EVENTS = ['storage_event', 'storage_error'];\n  var MODULE_NAME = 'RNFirebaseStorage';\n  exports.MODULE_NAME = MODULE_NAME;\n  var NAMESPACE = 'storage';\n  exports.NAMESPACE = NAMESPACE;\n\n  var Storage = function (_ModuleBase) {\n    (0, _inherits2.default)(Storage, _ModuleBase);\n\n    function Storage(app) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, Storage);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Storage).call(this, app, {\n        events: NATIVE_EVENTS,\n        moduleName: MODULE_NAME,\n        hasMultiAppSupport: true,\n        hasCustomUrlSupport: false,\n        namespace: NAMESPACE\n      }));\n\n      _events.SharedEventEmitter.addListener((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'storage_event'), _this._handleStorageEvent.bind((0, _assertThisInitialized2.default)(_this)));\n\n      _events.SharedEventEmitter.addListener((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'storage_error'), _this._handleStorageEvent.bind((0, _assertThisInitialized2.default)(_this)));\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(Storage, [{\n      key: \"ref\",\n      value: function ref(path) {\n        return new _reference.default(this, path);\n      }\n    }, {\n      key: \"refFromURL\",\n      value: function refFromURL(url) {\n        return new _reference.default(this, \"url::\" + url);\n      }\n    }, {\n      key: \"setMaxOperationRetryTime\",\n      value: function setMaxOperationRetryTime(time) {\n        (0, _native.getNativeModule)(this).setMaxOperationRetryTime(time);\n      }\n    }, {\n      key: \"setMaxUploadRetryTime\",\n      value: function setMaxUploadRetryTime(time) {\n        (0, _native.getNativeModule)(this).setMaxUploadRetryTime(time);\n      }\n    }, {\n      key: \"setMaxDownloadRetryTime\",\n      value: function setMaxDownloadRetryTime(time) {\n        (0, _native.getNativeModule)(this).setMaxDownloadRetryTime(time);\n      }\n    }, {\n      key: \"_getSubEventName\",\n      value: function _getSubEventName(path, eventName) {\n        return (0, _events.getAppEventName)(this, path + \"-\" + eventName);\n      }\n    }, {\n      key: \"_handleStorageEvent\",\n      value: function _handleStorageEvent(event) {\n        var path = event.path,\n            eventName = event.eventName;\n        var body = event.body || {};\n        (0, _log.getLogger)(this).debug('_handleStorageEvent: ', path, eventName, body);\n\n        _events.SharedEventEmitter.emit(this._getSubEventName(path, eventName), body);\n      }\n    }, {\n      key: \"_handleStorageError\",\n      value: function _handleStorageError(err) {\n        var path = err.path,\n            eventName = err.eventName;\n        var body = err.body || {};\n        (0, _log.getLogger)(this).debug('_handleStorageError ->', err);\n\n        _events.SharedEventEmitter.emit(this._getSubEventName(path, eventName), body);\n      }\n    }, {\n      key: \"_addListener\",\n      value: function _addListener(path, eventName, cb) {\n        _events.SharedEventEmitter.addListener(this._getSubEventName(path, eventName), cb);\n      }\n    }, {\n      key: \"_removeListener\",\n      value: function _removeListener(path, eventName, origCB) {\n        _events.SharedEventEmitter.removeListener(this._getSubEventName(path, eventName), origCB);\n      }\n    }]);\n    return Storage;\n  }(_ModuleBase2.default);\n\n  exports.default = Storage;\n  var statics = {\n    TaskEvent: {\n      STATE_CHANGED: 'state_changed'\n    },\n    TaskState: {\n      RUNNING: 'running',\n      PAUSED: 'paused',\n      SUCCESS: 'success',\n      CANCELLED: 'cancelled',\n      ERROR: 'error'\n    },\n    Native: FirebaseStorage ? {\n      MAIN_BUNDLE_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.MAIN_BUNDLE_PATH),\n      CACHES_DIRECTORY_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.CACHES_DIRECTORY_PATH),\n      DOCUMENT_DIRECTORY_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.DOCUMENT_DIRECTORY_PATH),\n      EXTERNAL_DIRECTORY_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.EXTERNAL_DIRECTORY_PATH),\n      EXTERNAL_STORAGE_DIRECTORY_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.EXTERNAL_STORAGE_DIRECTORY_PATH),\n      TEMP_DIRECTORY_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.TEMP_DIRECTORY_PATH),\n      LIBRARY_DIRECTORY_PATH: (0, _utils.stripTrailingSlash)(FirebaseStorage.LIBRARY_DIRECTORY_PATH),\n      FILETYPE_REGULAR: (0, _utils.stripTrailingSlash)(FirebaseStorage.FILETYPE_REGULAR),\n      FILETYPE_DIRECTORY: (0, _utils.stripTrailingSlash)(FirebaseStorage.FILETYPE_DIRECTORY)\n    } : {}\n  };\n  exports.statics = statics;\n});","map":[[21,0,5,0],[23,0,6,0],[25,0,7,0],[27,0,8,0],[29,0,9,0],[31,0,10,0],[33,0,11,0],[35,0,12,0],[35,6,12,6,"FirebaseStorage"],[35,21,12,21],[35,24,12,24,"NativeModules"],[35,51,12,38,"RNFirebaseStorage"],[35,68,12,0],[36,0,13,0],[36,6,13,6,"NATIVE_EVENTS"],[36,19,13,19],[36,22,13,22],[36,23,13,23],[36,38,13,22],[36,40,13,40],[36,55,13,22],[36,56,13,0],[37,0,14,7],[37,6,14,13,"MODULE_NAME"],[37,17,14,24],[37,20,14,27],[37,39,14,7],[39,0,15,7],[39,6,15,13,"NAMESPACE"],[39,15,15,22],[39,18,15,25],[39,27,15,7],[42,6,16,21,"Storage"],[42,13],[45,0,22,2],[45,21,22,14,"app"],[45,24,22,2],[45,26,22,19],[46,0,22,19],[48,0,22,19],[49,0,23,4],[49,111,23,10,"app"],[49,114,23,4],[49,116,23,15],[50,0,24,6,"events"],[50,8,24,6,"events"],[50,14,24,12],[50,16,24,14,"NATIVE_EVENTS"],[50,29,23,15],[51,0,25,6,"moduleName"],[51,8,25,6,"moduleName"],[51,18,25,16],[51,20,25,18,"MODULE_NAME"],[51,31,23,15],[52,0,26,6,"hasMultiAppSupport"],[52,8,26,6,"hasMultiAppSupport"],[52,26,26,24],[52,28,26,26],[52,32,23,15],[53,0,27,6,"hasCustomUrlSupport"],[53,8,27,6,"hasCustomUrlSupport"],[53,27,27,25],[53,29,27,27],[53,34,23,15],[54,0,28,6,"namespace"],[54,8,28,6,"namespace"],[54,17,28,15],[54,19,28,17,"NAMESPACE"],[55,0,23,15],[55,7,23,4],[57,0,30,4,"SharedEventEmitter"],[57,33,30,23,"addListener"],[57,44,30,4],[57,45,30,35],[57,119,30,57],[57,134,30,35],[57,135,30,4],[57,137,30,75],[57,143,30,80,"_handleStorageEvent"],[57,162,30,75],[57,163,30,100,"bind"],[57,167,30,75],[57,212,30,4],[59,0,31,4,"SharedEventEmitter"],[59,33,31,23,"addListener"],[59,44,31,4],[59,45,31,35],[59,119,31,57],[59,134,31,35],[59,135,31,4],[59,137,31,75],[59,143,31,80,"_handleStorageEvent"],[59,162,31,75],[59,163,31,100,"bind"],[59,167,31,75],[59,212,31,4],[61,0,22,19],[62,0,32,3],[66,26,41,6,"path"],[66,30],[66,32,41,12],[67,0,42,4],[67,15,42,11],[67,19,42,15,"StorageRef"],[67,37,42,11],[67,38,42,26],[67,42,42,11],[67,44,42,32,"path"],[67,48,42,11],[67,49,42,4],[68,0,43,3],[71,33,52,13,"url"],[71,36],[71,38,52,18],[72,0,54,4],[72,15,54,11],[72,19,54,15,"StorageRef"],[72,37,54,11],[72,38,54,26],[72,42,54,11],[72,54,54,40,"url"],[72,57,54,11],[72,58,54,4],[73,0,55,3],[76,47,63,27,"time"],[76,51],[76,53,63,33],[77,0,64,4],[77,37,64,20],[77,41,64,4],[77,43,64,26,"setMaxOperationRetryTime"],[77,67,64,4],[77,68,64,51,"time"],[77,72,64,4],[78,0,65,3],[81,44,73,24,"time"],[81,48],[81,50,73,30],[82,0,74,4],[82,37,74,20],[82,41,74,4],[82,43,74,26,"setMaxUploadRetryTime"],[82,64,74,4],[82,65,74,48,"time"],[82,69,74,4],[83,0,75,3],[86,46,83,26,"time"],[86,50],[86,52,83,32],[87,0,84,4],[87,37,84,20],[87,41,84,4],[87,43,84,26,"setMaxDownloadRetryTime"],[87,66,84,4],[87,67,84,50,"time"],[87,71,84,4],[88,0,85,3],[91,39,91,19,"path"],[91,43],[91,45,91,25,"eventName"],[91,54],[91,56,91,36],[92,0,92,4],[92,15,92,11],[92,44,92,27],[92,48,92,11],[92,50,92,36,"path"],[92,54,92,11],[92,63,92,44,"eventName"],[92,72,92,11],[92,73,92,4],[93,0,93,3],[96,42,95,22,"event"],[96,47],[96,49,95,29],[97,0,95,29],[97,12,97,6,"path"],[97,16,95,29],[97,19,99,8,"event"],[97,24,95,29],[97,25,97,6,"path"],[97,29,95,29],[98,0,95,29],[98,12,98,6,"eventName"],[98,21,95,29],[98,24,99,8,"event"],[98,29,95,29],[98,30,98,6,"eventName"],[98,39,95,29],[99,0,100,4],[99,12,100,10,"body"],[99,16,100,14],[99,19,100,17,"event"],[99,24,100,22],[99,25,100,23,"body"],[99,29,100,17],[99,33,100,31],[99,35,100,4],[100,0,101,4],[100,28,101,14],[100,32,101,4],[100,34,101,20,"debug"],[100,39,101,4],[100,40,101,26],[100,63,101,4],[100,65,101,51,"path"],[100,69,101,4],[100,71,101,57,"eventName"],[100,80,101,4],[100,82,101,68,"body"],[100,86,101,4],[102,0,102,4,"SharedEventEmitter"],[102,35,102,23,"emit"],[102,39,102,4],[102,40,102,28],[102,45,102,33,"_getSubEventName"],[102,61,102,28],[102,62,102,50,"path"],[102,66,102,28],[102,68,102,56,"eventName"],[102,77,102,28],[102,78,102,4],[102,80,102,68,"body"],[102,84,102,4],[103,0,103,3],[106,42,105,22,"err"],[106,45],[106,47,105,27],[107,0,105,27],[107,12,107,6,"path"],[107,16,105,27],[107,19,109,8,"err"],[107,22,105,27],[107,23,107,6,"path"],[107,27,105,27],[108,0,105,27],[108,12,108,6,"eventName"],[108,21,105,27],[108,24,109,8,"err"],[108,27,105,27],[108,28,108,6,"eventName"],[108,37,105,27],[109,0,110,4],[109,12,110,10,"body"],[109,16,110,14],[109,19,110,17,"err"],[109,22,110,20],[109,23,110,21,"body"],[109,27,110,17],[109,31,110,29],[109,33,110,4],[110,0,111,4],[110,28,111,14],[110,32,111,4],[110,34,111,20,"debug"],[110,39,111,4],[110,40,111,26],[110,64,111,4],[110,66,111,52,"err"],[110,69,111,4],[112,0,112,4,"SharedEventEmitter"],[112,35,112,23,"emit"],[112,39,112,4],[112,40,112,28],[112,45,112,33,"_getSubEventName"],[112,61,112,28],[112,62,112,50,"path"],[112,66,112,28],[112,68,112,56,"eventName"],[112,77,112,28],[112,78,112,4],[112,80,112,68,"body"],[112,84,112,4],[113,0,113,3],[116,35,115,15,"path"],[116,39],[116,41,115,21,"eventName"],[116,50],[116,52,115,32,"cb"],[116,54],[116,56,115,36],[117,0,116,4,"SharedEventEmitter"],[117,35,116,23,"addListener"],[117,46,116,4],[117,47,116,35],[117,52,116,40,"_getSubEventName"],[117,68,116,35],[117,69,116,57,"path"],[117,73,116,35],[117,75,116,63,"eventName"],[117,84,116,35],[117,85,116,4],[117,87,116,75,"cb"],[117,89,116,4],[118,0,117,3],[121,38,119,18,"path"],[121,42],[121,44,119,24,"eventName"],[121,53],[121,55,119,35,"origCB"],[121,61],[121,63,119,43],[122,0,120,4,"SharedEventEmitter"],[122,35,120,23,"removeListener"],[122,49,120,4],[122,50,120,38],[122,55,120,43,"_getSubEventName"],[122,71,120,38],[122,72,120,60,"path"],[122,76,120,38],[122,78,120,66,"eventName"],[122,87,120,38],[122,88,120,4],[122,90,120,78,"origCB"],[122,96,120,4],[123,0,121,3],[126,4,16,37,"ModuleBase"],[126,24],[129,0,124,7],[129,6,124,13,"statics"],[129,13,124,20],[129,16,124,23],[130,0,125,2,"TaskEvent"],[130,4,125,2,"TaskEvent"],[130,13,125,11],[130,15,125,13],[131,0,126,4,"STATE_CHANGED"],[131,6,126,4,"STATE_CHANGED"],[131,19,126,17],[131,21,126,19],[132,0,125,13],[132,5,124,23],[133,0,128,2,"TaskState"],[133,4,128,2,"TaskState"],[133,13,128,11],[133,15,128,13],[134,0,129,4,"RUNNING"],[134,6,129,4,"RUNNING"],[134,13,129,11],[134,15,129,13],[134,24,128,13],[135,0,130,4,"PAUSED"],[135,6,130,4,"PAUSED"],[135,12,130,10],[135,14,130,12],[135,22,128,13],[136,0,131,4,"SUCCESS"],[136,6,131,4,"SUCCESS"],[136,13,131,11],[136,15,131,13],[136,24,128,13],[137,0,132,4,"CANCELLED"],[137,6,132,4,"CANCELLED"],[137,15,132,13],[137,17,132,15],[137,28,128,13],[138,0,133,4,"ERROR"],[138,6,133,4,"ERROR"],[138,11,133,9],[138,13,133,11],[139,0,128,13],[139,5,124,23],[140,0,135,2,"Native"],[140,4,135,2,"Native"],[140,10,135,8],[140,12,135,10,"FirebaseStorage"],[140,27,135,25],[140,30,135,28],[141,0,136,4,"MAIN_BUNDLE_PATH"],[141,6,136,4,"MAIN_BUNDLE_PATH"],[141,22,136,20],[141,24,136,22],[141,55,136,41,"FirebaseStorage"],[141,70,136,56],[141,71,136,57,"MAIN_BUNDLE_PATH"],[141,87,136,22],[141,88,135,28],[142,0,137,4,"CACHES_DIRECTORY_PATH"],[142,6,137,4,"CACHES_DIRECTORY_PATH"],[142,27,137,25],[142,29,137,27],[142,60,137,46,"FirebaseStorage"],[142,75,137,61],[142,76,137,62,"CACHES_DIRECTORY_PATH"],[142,97,137,27],[142,98,135,28],[143,0,138,4,"DOCUMENT_DIRECTORY_PATH"],[143,6,138,4,"DOCUMENT_DIRECTORY_PATH"],[143,29,138,27],[143,31,138,29],[143,62,138,48,"FirebaseStorage"],[143,77,138,63],[143,78,138,64,"DOCUMENT_DIRECTORY_PATH"],[143,101,138,29],[143,102,135,28],[144,0,139,4,"EXTERNAL_DIRECTORY_PATH"],[144,6,139,4,"EXTERNAL_DIRECTORY_PATH"],[144,29,139,27],[144,31,139,29],[144,62,139,48,"FirebaseStorage"],[144,77,139,63],[144,78,139,64,"EXTERNAL_DIRECTORY_PATH"],[144,101,139,29],[144,102,135,28],[145,0,140,4,"EXTERNAL_STORAGE_DIRECTORY_PATH"],[145,6,140,4,"EXTERNAL_STORAGE_DIRECTORY_PATH"],[145,37,140,35],[145,39,140,37],[145,70,140,56,"FirebaseStorage"],[145,85,140,71],[145,86,140,72,"EXTERNAL_STORAGE_DIRECTORY_PATH"],[145,117,140,37],[145,118,135,28],[146,0,141,4,"TEMP_DIRECTORY_PATH"],[146,6,141,4,"TEMP_DIRECTORY_PATH"],[146,25,141,23],[146,27,141,25],[146,58,141,44,"FirebaseStorage"],[146,73,141,59],[146,74,141,60,"TEMP_DIRECTORY_PATH"],[146,93,141,25],[146,94,135,28],[147,0,142,4,"LIBRARY_DIRECTORY_PATH"],[147,6,142,4,"LIBRARY_DIRECTORY_PATH"],[147,28,142,26],[147,30,142,28],[147,61,142,47,"FirebaseStorage"],[147,76,142,62],[147,77,142,63,"LIBRARY_DIRECTORY_PATH"],[147,99,142,28],[147,100,135,28],[148,0,143,4,"FILETYPE_REGULAR"],[148,6,143,4,"FILETYPE_REGULAR"],[148,22,143,20],[148,24,143,22],[148,55,143,41,"FirebaseStorage"],[148,70,143,56],[148,71,143,57,"FILETYPE_REGULAR"],[148,87,143,22],[148,88,135,28],[149,0,144,4,"FILETYPE_DIRECTORY"],[149,6,144,4,"FILETYPE_DIRECTORY"],[149,24,144,22],[149,26,144,24],[149,57,144,43,"FirebaseStorage"],[149,72,144,58],[149,73,144,59,"FILETYPE_DIRECTORY"],[149,91,144,24],[150,0,135,28],[150,5,135,25],[150,8,145,6],[151,0,124,23],[151,3,124,7]]},"type":"js/module"}]}