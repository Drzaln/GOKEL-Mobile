{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _utils = _$$_REQUIRE(_dependencyMap[3], \"../../utils\");\n\n  var DataSnapshot = function () {\n    function DataSnapshot(ref, snapshot) {\n      (0, _classCallCheck2.default)(this, DataSnapshot);\n      this.key = snapshot.key;\n\n      if (ref.key !== snapshot.key) {\n        this.ref = ref.child(snapshot.key);\n      } else {\n        this.ref = ref;\n      }\n\n      this._value = snapshot.value;\n      this._priority = snapshot.priority === undefined ? null : snapshot.priority;\n      this._childKeys = snapshot.childKeys || [];\n    }\n\n    (0, _createClass2.default)(DataSnapshot, [{\n      key: \"val\",\n      value: function val() {\n        if ((0, _utils.isObject)(this._value) || Array.isArray(this._value)) {\n          return JSON.parse(JSON.stringify(this._value));\n        }\n\n        return this._value;\n      }\n    }, {\n      key: \"exportVal\",\n      value: function exportVal() {\n        var value = this._value;\n\n        if ((0, _utils.isObject)(this._value) || Array.isArray(this._value)) {\n          value = JSON.parse(JSON.stringify(this._value));\n        }\n\n        return {\n          '.value': value,\n          '.priority': this._priority\n        };\n      }\n    }, {\n      key: \"child\",\n      value: function child(path) {\n        var value = (0, _utils.deepGet)(this._value, path);\n        if (value === undefined) value = null;\n        var childRef = this.ref.child(path);\n        return new DataSnapshot(childRef, {\n          value: value,\n          key: childRef.key,\n          exists: value !== null,\n          childKeys: (0, _utils.isObject)(value) && value !== null ? Object.keys(value) : []\n        });\n      }\n    }, {\n      key: \"exists\",\n      value: function exists() {\n        return this._value !== null;\n      }\n    }, {\n      key: \"forEach\",\n      value: function forEach(action) {\n        if (!this._childKeys.length) return false;\n        var cancelled = false;\n\n        for (var i = 0, len = this._childKeys.length; i < len; i++) {\n          var key = this._childKeys[i];\n          var childSnapshot = this.child(key);\n          var returnValue = action(childSnapshot);\n\n          if (returnValue === true) {\n            cancelled = true;\n            break;\n          }\n        }\n\n        return cancelled;\n      }\n    }, {\n      key: \"getPriority\",\n      value: function getPriority() {\n        return this._priority;\n      }\n    }, {\n      key: \"hasChild\",\n      value: function hasChild(path) {\n        return (0, _utils.deepExists)(this._value, path);\n      }\n    }, {\n      key: \"hasChildren\",\n      value: function hasChildren() {\n        return this.numChildren() > 0;\n      }\n    }, {\n      key: \"numChildren\",\n      value: function numChildren() {\n        if (!(0, _utils.isObject)(this._value)) return 0;\n        return Object.keys(this._value).length;\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        return this.val();\n      }\n    }]);\n    return DataSnapshot;\n  }();\n\n  exports.default = DataSnapshot;\n});","map":[[13,0,5,0],[15,6,11,21,"DataSnapshot"],[15,18],[16,0,12,2],[16,26,12,14,"ref"],[16,29,12,2],[16,31,12,19,"snapshot"],[16,39,12,2],[16,41,12,29],[17,0,12,29],[18,0,13,4],[18,11,13,9,"key"],[18,14,13,4],[18,17,13,15,"snapshot"],[18,25,13,23],[18,26,13,24,"key"],[18,29,13,4],[20,0,15,4],[20,10,15,8,"ref"],[20,13,15,11],[20,14,15,12,"key"],[20,17,15,8],[20,22,15,20,"snapshot"],[20,30,15,28],[20,31,15,29,"key"],[20,34,15,4],[20,36,15,34],[21,0,16,6],[21,13,16,11,"ref"],[21,16,16,6],[21,19,16,17,"ref"],[21,22,16,20],[21,23,16,21,"child"],[21,28,16,17],[21,29,16,27,"snapshot"],[21,37,16,35],[21,38,16,36,"key"],[21,41,16,17],[21,42,16,6],[22,0,17,5],[22,7,15,4],[22,13,17,11],[23,0,18,6],[23,13,18,11,"ref"],[23,16,18,6],[23,19,18,17,"ref"],[23,22,18,6],[24,0,19,5],[26,0,22,4],[26,11,22,9,"_value"],[26,17,22,4],[26,20,22,18,"snapshot"],[26,28,22,26],[26,29,22,27,"value"],[26,34,22,4],[27,0,23,4],[27,11,23,9,"_priority"],[27,20,23,4],[27,23,23,21,"snapshot"],[27,31,23,29],[27,32,23,30,"priority"],[27,40,23,21],[27,45,23,43,"undefined"],[27,54,23,21],[27,57,23,55],[27,61,23,21],[27,64,23,62,"snapshot"],[27,72,23,70],[27,73,23,71,"priority"],[27,81,23,4],[28,0,24,4],[28,11,24,9,"_childKeys"],[28,21,24,4],[28,24,24,22,"snapshot"],[28,32,24,30],[28,33,24,31,"childKeys"],[28,42,24,22],[28,46,24,44],[28,48,24,4],[29,0,25,3],[33,28,33,8],[34,0,35,4],[34,12,35,8],[34,33,35,17],[34,38,35,22,"_value"],[34,44,35,8],[34,49,35,33,"Array"],[34,54,35,38],[34,55,35,39,"isArray"],[34,62,35,33],[34,63,35,47],[34,68,35,52,"_value"],[34,74,35,33],[34,75,35,4],[34,77,35,61],[35,0,36,6],[35,17,36,13,"JSON"],[35,21,36,17],[35,22,36,18,"parse"],[35,27,36,13],[35,28,36,24,"JSON"],[35,32,36,28],[35,33,36,29,"stringify"],[35,42,36,24],[35,43,36,39],[35,48,36,44,"_value"],[35,54,36,24],[35,55,36,13],[35,56,36,6],[36,0,37,5],[38,0,39,4],[38,15,39,11],[38,20,39,16,"_value"],[38,26,39,4],[39,0,40,3],[42,34,51,14],[43,0,52,4],[43,12,52,8,"value"],[43,17,52,13],[43,20,52,16],[43,25,52,21,"_value"],[43,31,52,4],[45,0,54,4],[45,12,54,8],[45,33,54,17],[45,38,54,22,"_value"],[45,44,54,8],[45,49,54,33,"Array"],[45,54,54,38],[45,55,54,39,"isArray"],[45,62,54,33],[45,63,54,47],[45,68,54,52,"_value"],[45,74,54,33],[45,75,54,4],[45,77,54,61],[46,0,55,6,"value"],[46,10,55,6,"value"],[46,15,55,11],[46,18,55,14,"JSON"],[46,22,55,18],[46,23,55,19,"parse"],[46,28,55,14],[46,29,55,25,"JSON"],[46,33,55,29],[46,34,55,30,"stringify"],[46,43,55,25],[46,44,55,40],[46,49,55,45,"_value"],[46,55,55,25],[46,56,55,14],[46,57,55,6],[47,0,56,5],[49,0,58,4],[49,15,58,11],[50,0,59,6],[50,20,59,16,"value"],[50,25,58,11],[51,0,60,6],[51,23,60,19],[51,28,60,24,"_priority"],[52,0,58,11],[52,9,58,4],[53,0,62,3],[56,28,71,8,"path"],[56,32],[56,34,71,14],[57,0,73,4],[57,12,73,8,"value"],[57,17,73,13],[57,20,73,16],[57,40,73,24],[57,45,73,29,"_value"],[57,51,73,16],[57,53,73,37,"path"],[57,57,73,16],[57,58,73,4],[58,0,74,4],[58,12,74,8,"value"],[58,17,74,13],[58,22,74,18,"undefined"],[58,31,74,4],[58,33,74,29,"value"],[58,38,74,34],[58,41,74,37],[58,45,74,29],[59,0,75,4],[59,12,75,10,"childRef"],[59,20,75,18],[59,23,75,21],[59,28,75,26,"ref"],[59,31,75,21],[59,32,75,30,"child"],[59,37,75,21],[59,38,75,36,"path"],[59,42,75,21],[59,43,75,4],[60,0,76,4],[60,15,76,11],[60,19,76,15,"DataSnapshot"],[60,31,76,11],[60,32,76,28,"childRef"],[60,40,76,11],[60,42,76,38],[61,0,77,6,"value"],[61,10,77,6,"value"],[61,15,77,11],[61,17,77,6,"value"],[61,22,76,38],[62,0,78,6,"key"],[62,10,78,6,"key"],[62,13,78,9],[62,15,78,11,"childRef"],[62,23,78,19],[62,24,78,20,"key"],[62,27,76,38],[63,0,79,6,"exists"],[63,10,79,6,"exists"],[63,16,79,12],[63,18,79,14,"value"],[63,23,79,19],[63,28,79,24],[63,32,76,38],[64,0,84,6,"childKeys"],[64,10,84,6,"childKeys"],[64,19,84,15],[64,21,84,17],[64,42,84,26,"value"],[64,47,84,17],[64,52,84,36,"value"],[64,57,84,41],[64,62,84,46],[64,66,84,17],[64,69,84,53,"Object"],[64,75,84,59],[64,76,84,60,"keys"],[64,80,84,53],[64,81,84,65,"value"],[64,86,84,53],[64,87,84,17],[64,90,84,74],[65,0,76,38],[65,9,76,11],[65,10,76,4],[66,0,86,3],[69,31,94,11],[70,0,95,4],[70,15,95,11],[70,20,95,16,"_value"],[70,26,95,11],[70,31,95,27],[70,35,95,4],[71,0,96,3],[74,30,104,10,"action"],[74,36],[74,38,104,18],[75,0,105,4],[75,12,105,8],[75,13,105,9],[75,18,105,14,"_childKeys"],[75,28,105,9],[75,29,105,25,"length"],[75,35,105,4],[75,37,105,33],[75,44,105,40],[75,49,105,33],[76,0,106,4],[76,12,106,8,"cancelled"],[76,21,106,17],[76,24,106,20],[76,29,106,4],[78,0,108,4],[78,13,108,9],[78,17,108,13,"i"],[78,18,108,14],[78,21,108,17],[78,22,108,9],[78,24,108,20,"len"],[78,27,108,23],[78,30,108,26],[78,35,108,31,"_childKeys"],[78,45,108,26],[78,46,108,42,"length"],[78,52,108,4],[78,54,108,50,"i"],[78,55,108,51],[78,58,108,54,"len"],[78,61,108,4],[78,63,108,59,"i"],[78,64,108,60],[78,66,108,4],[78,68,108,64],[79,0,109,6],[79,14,109,12,"key"],[79,17,109,15],[79,20,109,18],[79,25,109,23,"_childKeys"],[79,35,109,18],[79,36,109,34,"i"],[79,37,109,18],[79,38,109,6],[80,0,110,6],[80,14,110,12,"childSnapshot"],[80,27,110,25],[80,30,110,28],[80,35,110,33,"child"],[80,40,110,28],[80,41,110,39,"key"],[80,44,110,28],[80,45,110,6],[81,0,111,6],[81,14,111,12,"returnValue"],[81,25,111,23],[81,28,111,26,"action"],[81,34,111,32],[81,35,111,33,"childSnapshot"],[81,48,111,32],[81,49,111,6],[83,0,113,6],[83,14,113,10,"returnValue"],[83,25,113,21],[83,30,113,26],[83,34,113,6],[83,36,113,32],[84,0,114,8,"cancelled"],[84,12,114,8,"cancelled"],[84,21,114,17],[84,24,114,20],[84,28,114,8],[85,0,115,8],[86,0,116,7],[87,0,117,5],[89,0,119,4],[89,15,119,11,"cancelled"],[89,24,119,4],[90,0,120,3],[93,36,128,16],[94,0,129,4],[94,15,129,11],[94,20,129,16,"_priority"],[94,29,129,4],[95,0,130,3],[98,31,139,11,"path"],[98,35],[98,37,139,17],[99,0,140,4],[99,15,140,11],[99,38,140,22],[99,43,140,27,"_value"],[99,49,140,11],[99,51,140,35,"path"],[99,55,140,11],[99,56,140,4],[100,0,141,3],[103,36,149,16],[104,0,150,4],[104,15,150,11],[104,20,150,16,"numChildren"],[104,31,150,11],[104,36,150,32],[104,37,150,4],[105,0,151,3],[108,36,159,16],[109,0,160,4],[109,12,160,8],[109,13,160,9],[109,34,160,18],[109,39,160,23,"_value"],[109,45,160,9],[109,46,160,4],[109,48,160,32],[109,55,160,39],[109,56,160,32],[110,0,161,4],[110,15,161,11,"Object"],[110,21,161,17],[110,22,161,18,"keys"],[110,26,161,11],[110,27,161,23],[110,32,161,28,"_value"],[110,38,161,11],[110,40,161,36,"length"],[110,46,161,4],[111,0,162,3],[114,31,170,11],[115,0,171,4],[115,15,171,11],[115,20,171,16,"val"],[115,23,171,11],[115,25,171,4],[116,0,172,3]]},"type":"js/module"}]}