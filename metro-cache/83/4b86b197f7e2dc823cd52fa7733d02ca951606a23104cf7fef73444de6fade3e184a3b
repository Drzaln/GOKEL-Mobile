{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _utils = _$$_REQUIRE(_dependencyMap[4], \"../../utils\");\n\n  var Query = function () {\n    function Query(ref, existingModifiers) {\n      (0, _classCallCheck2.default)(this, Query);\n      this.modifiers = existingModifiers ? (0, _toConsumableArray2.default)(existingModifiers) : [];\n      this._reference = ref;\n    }\n\n    (0, _createClass2.default)(Query, [{\n      key: \"orderBy\",\n      value: function orderBy(name, key) {\n        this.modifiers.push({\n          id: \"orderBy-\" + name + \":\" + (key || ''),\n          type: 'orderBy',\n          name: name,\n          key: key\n        });\n        return this._reference;\n      }\n    }, {\n      key: \"limit\",\n      value: function limit(name, _limit) {\n        this.modifiers.push({\n          id: \"limit-\" + name + \":\" + _limit,\n          type: 'limit',\n          name: name,\n          limit: _limit\n        });\n        return this._reference;\n      }\n    }, {\n      key: \"filter\",\n      value: function filter(name, value, key) {\n        this.modifiers.push({\n          id: \"filter-\" + name + \":\" + (0, _utils.objectToUniqueId)(value) + \":\" + (key || ''),\n          type: 'filter',\n          name: name,\n          value: value,\n          valueType: typeof value,\n          key: key\n        });\n        return this._reference;\n      }\n    }, {\n      key: \"getModifiers\",\n      value: function getModifiers() {\n        return (0, _toConsumableArray2.default)(this.modifiers);\n      }\n    }, {\n      key: \"queryIdentifier\",\n      value: function queryIdentifier() {\n        var sortedModifiers = this.getModifiers().sort(function (a, b) {\n          if (a.id < b.id) return -1;\n          if (a.id > b.id) return 1;\n          return 0;\n        });\n        var key = '{';\n\n        for (var i = 0; i < sortedModifiers.length; i++) {\n          if (i !== 0) key += ',';\n          key += sortedModifiers[i].id;\n        }\n\n        key += '}';\n        return key;\n      }\n    }]);\n    return Query;\n  }();\n\n  exports.default = Query;\n});","map":[[15,0,5,0],[17,6,11,21,"Query"],[17,11],[18,0,12,2],[18,19,12,14,"ref"],[18,22,12,2],[18,24,12,19,"existingModifiers"],[18,41,12,2],[18,43,12,38],[19,0,12,38],[20,0,13,4],[20,11,13,9,"modifiers"],[20,20,13,4],[20,23,13,21,"existingModifiers"],[20,40,13,38],[20,76,13,45,"existingModifiers"],[20,93,13,38],[20,97,13,66],[20,99,13,4],[21,0,14,4],[21,11,14,9,"_reference"],[21,21,14,4],[21,24,14,22,"ref"],[21,27,14,4],[22,0,15,3],[26,30,24,10,"name"],[26,34],[26,36,24,16,"key"],[26,39],[26,41,24,21],[27,0,25,4],[27,13,25,9,"modifiers"],[27,22,25,4],[27,23,25,19,"push"],[27,27,25,4],[27,28,25,24],[28,0,26,6,"id"],[28,10,26,6,"id"],[28,12,26,8],[28,27,26,21,"name"],[28,31,26,8],[28,41,26,29,"key"],[28,44,26,32],[28,48,26,36],[28,50,26,8],[28,51,25,24],[29,0,27,6,"type"],[29,10,27,6,"type"],[29,14,27,10],[29,16,27,12],[29,25,25,24],[30,0,28,6,"name"],[30,10,28,6,"name"],[30,14,28,10],[30,16,28,6,"name"],[30,20,25,24],[31,0,29,6,"key"],[31,10,29,6,"key"],[31,13,29,9],[31,15,29,6,"key"],[32,0,25,24],[32,9,25,4],[33,0,31,4],[33,15,31,11],[33,20,31,16,"_reference"],[33,30,31,4],[34,0,32,3],[37,28,41,8,"name"],[37,32],[37,34,41,14,"limit"],[37,40],[37,42,41,21],[38,0,42,4],[38,13,42,9,"modifiers"],[38,22,42,4],[38,23,42,19,"push"],[38,27,42,4],[38,28,42,24],[39,0,43,6,"id"],[39,10,43,6,"id"],[39,12,43,8],[39,25,43,19,"name"],[39,29,43,8],[39,38,43,27,"limit"],[39,44,42,24],[40,0,44,6,"type"],[40,10,44,6,"type"],[40,14,44,10],[40,16,44,12],[40,23,42,24],[41,0,45,6,"name"],[41,10,45,6,"name"],[41,14,45,10],[41,16,45,6,"name"],[41,20,42,24],[42,0,46,6,"limit"],[42,10,46,6,"limit"],[42,15,46,11],[42,17,46,6,"limit"],[43,0,42,24],[43,9,42,4],[44,0,48,4],[44,15,48,11],[44,20,48,16,"_reference"],[44,30,48,4],[45,0,49,3],[48,29,59,9,"name"],[48,33],[48,35,59,15,"value"],[48,40],[48,42,59,22,"key"],[48,45],[48,47,59,27],[49,0,60,4],[49,13,60,9,"modifiers"],[49,22,60,4],[49,23,60,19,"push"],[49,27,60,4],[49,28,60,24],[50,0,61,6,"id"],[50,10,61,6,"id"],[50,12,61,8],[50,26,61,20,"name"],[50,30,61,8],[50,39,61,28],[50,68,61,45,"value"],[50,73,61,28],[50,74,61,8],[50,84,61,55,"key"],[50,87,61,58],[50,91,61,62],[50,93,61,8],[50,94,60,24],[51,0,62,6,"type"],[51,10,62,6,"type"],[51,14,62,10],[51,16,62,12],[51,24,60,24],[52,0,63,6,"name"],[52,10,63,6,"name"],[52,14,63,10],[52,16,63,6,"name"],[52,20,60,24],[53,0,64,6,"value"],[53,10,64,6,"value"],[53,15,64,11],[53,17,64,6,"value"],[53,22,60,24],[54,0,65,6,"valueType"],[54,10,65,6,"valueType"],[54,19,65,15],[54,21,65,17],[54,28,65,24,"value"],[54,33,60,24],[55,0,66,6,"key"],[55,10,66,6,"key"],[55,13,66,9],[55,15,66,6,"key"],[56,0,60,24],[56,9,60,4],[57,0,68,4],[57,15,68,11],[57,20,68,16,"_reference"],[57,30,68,4],[58,0,69,3],[61,37,76,17],[62,0,77,4],[62,48,77,15],[62,53,77,20,"modifiers"],[62,62,77,4],[63,0,78,3],[66,40,85,20],[67,0,87,4],[67,12,87,10,"sortedModifiers"],[67,27,87,25],[67,30,87,28],[67,35,87,33,"getModifiers"],[67,47,87,28],[67,50,87,48,"sort"],[67,54,87,28],[67,55,87,53],[67,65,87,54,"a"],[67,66,87,53],[67,68,87,57,"b"],[67,69,87,53],[67,71,87,63],[68,0,88,6],[68,14,88,10,"a"],[68,15,88,11],[68,16,88,12,"id"],[68,18,88,10],[68,21,88,17,"b"],[68,22,88,18],[68,23,88,19,"id"],[68,25,88,6],[68,27,88,23],[68,34,88,30],[68,35,88,31],[68,36,88,23],[69,0,89,6],[69,14,89,10,"a"],[69,15,89,11],[69,16,89,12,"id"],[69,18,89,10],[69,21,89,17,"b"],[69,22,89,18],[69,23,89,19,"id"],[69,25,89,6],[69,27,89,23],[69,34,89,30],[69,35,89,23],[70,0,90,6],[70,17,90,13],[70,18,90,6],[71,0,91,5],[71,9,87,28],[71,10,87,4],[72,0,93,4],[72,12,93,8,"key"],[72,15,93,11],[72,18,93,14],[72,21,93,4],[74,0,95,4],[74,13,95,9],[74,17,95,13,"i"],[74,18,95,14],[74,21,95,17],[74,22,95,4],[74,24,95,20,"i"],[74,25,95,21],[74,28,95,24,"sortedModifiers"],[74,43,95,39],[74,44,95,40,"length"],[74,50,95,4],[74,52,95,48,"i"],[74,53,95,49],[74,55,95,4],[74,57,95,53],[75,0,96,6],[75,14,96,10,"i"],[75,15,96,11],[75,20,96,16],[75,21,96,6],[75,23,96,19,"key"],[75,26,96,22],[75,30,96,26],[75,33,96,19],[76,0,97,6,"key"],[76,10,97,6,"key"],[76,13,97,9],[76,17,97,13,"sortedModifiers"],[76,32,97,28],[76,33,97,29,"i"],[76,34,97,28],[76,35,97,13],[76,36,97,32,"id"],[76,38,97,6],[77,0,98,5],[79,0,100,4,"key"],[79,8,100,4,"key"],[79,11,100,7],[79,15,100,11],[79,18,100,4],[80,0,101,4],[80,15,101,11,"key"],[80,18,101,4],[81,0,102,3]]},"type":"js/module"}]}